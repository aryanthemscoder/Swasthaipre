<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwasthAI - India's Premium AI Diet Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Premium Design System */
        .font-display {
            font-family: 'Playfair Display', serif;
        }
        
        .font-body {
            font-family: 'Inter', sans-serif;
        }
        
        /* Advanced Color System */
        :root {
            --primary-50: #F0F9FF;
            --primary-100: #E0F2FE;
            --primary-500: #0EA5E9;
            --primary-600: #0284C7;
            --primary-700: #0369A1;
            --primary-900: #0C4A6E;
            
            --accent-50: #FFF7ED;
            --accent-500: #F97316;
            --accent-600: #EA580C;
            
            --success-50: #ECFDF5;
            --success-500: #10B981;
            --success-600: #059669;
            
            --warning-50: #FFFBEB;
            --warning-500: #F59E0B;
            
            --error-50: #FEF2F2;
            --error-500: #EF4444;
            
            --neutral-50: #FAFAFA;
            --neutral-100: #F5F5F5;
            --neutral-200: #E5E5E5;
            --neutral-300: #D4D4D4;
            --neutral-400: #A3A3A3;
            --neutral-500: #737373;
            --neutral-600: #525252;
            --neutral-700: #404040;
            --neutral-800: #262626;
            --neutral-900: #171717;
            
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.18);
        }
        
        /* Premium Typography Scale */
        .text-display-xl { font-size: clamp(3.5rem, 8vw, 7rem); line-height: 1.1; font-weight: 800; }
        .text-display-lg { font-size: clamp(2.5rem, 6vw, 4.5rem); line-height: 1.15; font-weight: 700; }
        .text-display-md { font-size: clamp(2rem, 4vw, 3rem); line-height: 1.2; font-weight: 600; }
        .text-heading-xl { font-size: 2.25rem; line-height: 1.25; font-weight: 700; }
        .text-heading-lg { font-size: 1.875rem; line-height: 1.3; font-weight: 600; }
        .text-heading-md { font-size: 1.5rem; line-height: 1.35; font-weight: 600; }
        .text-body-xl { font-size: 1.25rem; line-height: 1.6; font-weight: 400; }
        .text-body-lg { font-size: 1.125rem; line-height: 1.6; font-weight: 400; }
        .text-body { font-size: 1rem; line-height: 1.6; font-weight: 400; }
        .text-body-sm { font-size: 0.875rem; line-height: 1.5; font-weight: 400; }
        .text-caption { font-size: 0.75rem; line-height: 1.4; font-weight: 500; }
        
        /* Premium Spacing System */
        .space-xs { margin-bottom: 0.5rem; }
        .space-sm { margin-bottom: 0.75rem; }
        .space-md { margin-bottom: 1rem; }
        .space-lg { margin-bottom: 1.5rem; }
        .space-xl { margin-bottom: 2rem; }
        .space-2xl { margin-bottom: 3rem; }
        .space-3xl { margin-bottom: 4rem; }
        
        /* Glass Morphism Effects */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
        }
        
        .glass-dark {
            background: rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Premium Gradients */
        .gradient-primary {
            background: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-500) 50%, var(--accent-500) 100%);
        }
        
        .gradient-hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
        }
        
        .gradient-success {
            background: linear-gradient(135deg, var(--success-600) 0%, var(--success-500) 100%);
        }
        
        .gradient-premium {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        }
        
        /* Advanced Card System */
        .card-premium {
            background: white;
            border-radius: 1.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--neutral-200);
        }
        
        .card-premium:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border-color: var(--primary-200);
        }
        
        .card-interactive {
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .card-interactive::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .card-interactive:hover::before {
            left: 100%;
        }
        
        .card-interactive:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
        }
        
        .card-selected {
            border-color: var(--primary-500);
            background: var(--primary-50);
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(14, 165, 233, 0.2);
        }
        
        /* Premium Button System */
        .btn-primary {
            background: var(--primary-600);
            color: white;
            padding: 1rem 2rem;
            border-radius: 1rem;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            background: var(--primary-700);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(14, 165, 233, 0.4);
        }
        
        .btn-secondary {
            background: white;
            color: var(--primary-600);
            padding: 1rem 2rem;
            border-radius: 1rem;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid var(--primary-600);
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background: var(--primary-600);
            color: white;
            transform: translateY(-2px);
        }
        
        .btn-ghost {
            background: transparent;
            color: var(--neutral-700);
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid var(--neutral-300);
        }
        
        .btn-ghost:hover {
            background: var(--neutral-100);
            border-color: var(--neutral-400);
        }
        
        /* Premium Input System */
        .input-premium {
            width: 100%;
            padding: 1rem 1.25rem;
            border: 2px solid var(--neutral-200);
            border-radius: 1rem;
            font-size: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
            font-family: 'Inter', sans-serif;
        }
        
        .input-premium:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 4px var(--primary-100);
            transform: translateY(-1px);
        }
        
        .input-premium:hover {
            border-color: var(--neutral-300);
        }
        
        /* Advanced Animations */
        .animate-fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .animate-slide-up {
            animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .animate-scale-in {
            animation: scaleIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .animate-bounce-in {
            animation: bounceIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .animate-glow {
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes bounceIn {
            from { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.05); }
            70% { transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 5px rgba(14, 165, 233, 0.5); }
            to { box-shadow: 0 0 20px rgba(14, 165, 233, 0.8), 0 0 30px rgba(14, 165, 233, 0.6); }
        }
        
        /* Gamification Elements */
        .progress-ring {
            transform: rotate(-90deg);
        }
        
        .progress-ring-circle {
            transition: stroke-dashoffset 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        
        .streak-flame {
            animation: flicker 2s infinite alternate;
        }
        
        @keyframes flicker {
            0%, 100% { transform: scale(1) rotate(-2deg); }
            50% { transform: scale(1.1) rotate(2deg); }
        }
        
        /* Premium Mobile Optimizations */
        @media (max-width: 768px) {
            .container-mobile {
                padding: 0 1rem;
            }
            
            .text-display-xl { font-size: clamp(2.5rem, 12vw, 4rem); }
            .text-display-lg { font-size: clamp(2rem, 10vw, 3rem); }
            
            .card-premium {
                border-radius: 1.25rem;
                margin-bottom: 1rem;
            }
            
            .btn-primary, .btn-secondary {
                width: 100%;
                padding: 1.25rem 2rem;
                font-size: 1.125rem;
            }
            
            .space-2xl { margin-bottom: 2rem; }
            .space-3xl { margin-bottom: 2.5rem; }
        }
        
        /* Performance Optimizations */
        .will-change-transform {
            will-change: transform;
        }
        
        .gpu-accelerated {
            transform: translateZ(0);
            backface-visibility: hidden;
            perspective: 1000px;
        }
        
        /* Premium Loading States */
        .skeleton {
            background: linear-gradient(90deg, var(--neutral-200) 25%, var(--neutral-100) 50%, var(--neutral-200) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Advanced Notification System */
        .notification-premium {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-left: 4px solid var(--success-500);
            transform: translateX(400px);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .notification-premium.show {
            transform: translateX(0);
        }
        
        /* Food Database Styling */
        .food-item {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .food-item:hover {
            background: var(--primary-50);
            transform: translateX(4px);
        }
        
        .food-item.selected {
            background: var(--primary-100);
            border-color: var(--primary-500);
        }
        
        /* Preference Tags */
        .preference-tag {
            display: inline-flex;
            align-items: center;
            padding: 0.5rem 1rem;
            background: var(--neutral-100);
            border: 1px solid var(--neutral-200);
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.25rem;
        }
        
        .preference-tag:hover {
            background: var(--neutral-200);
            transform: translateY(-1px);
        }
        
        .preference-tag.selected {
            background: var(--primary-500);
            color: white;
            border-color: var(--primary-600);
        }
        
        .preference-tag.allergy {
            background: var(--error-50);
            border-color: var(--error-200);
            color: var(--error-700);
        }
        
        .preference-tag.allergy.selected {
            background: var(--error-500);
            color: white;
            border-color: var(--error-600);
        }
    </style>
</head>
<body class="font-body bg-neutral-50">
    <!-- Premium Notification System -->
    <div id="notification" class="notification-premium fixed top-6 right-6 z-50 max-w-sm">
        <div class="flex items-start space-x-3 p-4">
            <div id="notification-icon" class="w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                <span class="text-white font-bold text-sm">✓</span>
            </div>
            <div class="flex-1 min-w-0">
                <div id="notification-title" class="font-display font-semibold text-neutral-800 space-xs"></div>
                <div id="notification-message" class="text-body-sm text-neutral-600"></div>
            </div>
            <button onclick="hideNotification()" class="text-neutral-400 hover:text-neutral-600 transition-colors flex-shrink-0">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
    </div>

    <!-- Premium Header -->
    <header class="glass sticky top-0 z-40 border-b border-white/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Premium Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 gradient-primary rounded-xl flex items-center justify-center">
                        <span class="text-xl">🧠</span>
                    </div>
                    <div>
                        <h1 class="font-display text-xl font-bold text-neutral-800">SwasthAI</h1>
                        <p class="text-caption text-neutral-500 -mt-1">Premium AI Nutrition</p>
                    </div>
                </div>
                
                <!-- Desktop Navigation -->
                <nav class="hidden md:flex items-center space-x-8">
                    <a href="#" onclick="navigateToHome()" class="text-body text-neutral-700 hover:text-primary-600 transition-colors">Home</a>
                    <a href="#" onclick="navigateToFeatures()" class="text-body text-neutral-700 hover:text-primary-600 transition-colors">Features</a>
                    <a href="#" onclick="navigateToChallenges()" class="text-body text-neutral-700 hover:text-primary-600 transition-colors">Challenges</a>
                    <div class="flex items-center space-x-3">
                        <div id="user-streak" class="hidden flex items-center space-x-2 bg-warning-50 px-3 py-1 rounded-full">
                            <span class="text-lg streak-flame">🔥</span>
                            <span class="text-body-sm font-semibold text-warning-600">7 day streak</span>
                        </div>
                        <button onclick="startPlanning()" class="btn-primary">
                            Get Started
                        </button>
                    </div>
                </nav>
                
                <!-- Mobile Menu Button -->
                <button onclick="toggleMobileMenu()" class="md:hidden p-2 rounded-lg hover:bg-neutral-100 transition-colors">
                    <svg class="w-6 h-6 text-neutral-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Premium Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 z-50 transform translate-x-full transition-transform duration-300 md:hidden">
        <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" onclick="toggleMobileMenu()"></div>
        <div class="absolute right-0 top-0 h-full w-80 bg-white shadow-2xl">
            <div class="p-6">
                <div class="flex justify-between items-center space-xl">
                    <span class="font-display text-xl font-bold text-neutral-800">Menu</span>
                    <button onclick="toggleMobileMenu()" class="p-2 rounded-lg hover:bg-neutral-100">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <nav class="space-y-4 mt-8">
                    <a href="#" onclick="navigateToHome(); toggleMobileMenu();" class="block text-body py-3 px-4 rounded-lg hover:bg-neutral-100 transition-colors">Home</a>
                    <a href="#" onclick="navigateToFeatures(); toggleMobileMenu();" class="block text-body py-3 px-4 rounded-lg hover:bg-neutral-100 transition-colors">Features</a>
                    <a href="#" onclick="navigateToChallenges(); toggleMobileMenu();" class="block text-body py-3 px-4 rounded-lg hover:bg-neutral-100 transition-colors">Challenges</a>
                    <div class="pt-4 border-t border-neutral-200">
                        <button onclick="startPlanning(); toggleMobileMenu();" class="btn-primary w-full">
                            Get Started
                        </button>
                    </div>
                </nav>
            </div>
        </div>
    </div>

    <!-- Premium Hero Section -->
    <section id="hero" class="relative overflow-hidden">
        <div class="gradient-hero min-h-screen flex items-center relative">
            <!-- Animated Background Elements -->
            <div class="absolute inset-0 overflow-hidden">
                <div class="absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl animate-pulse"></div>
                <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-white/10 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
            </div>
            
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="text-center text-white">
                    <!-- Trust Badge -->
                    <div class="inline-flex items-center space-x-3 glass-dark rounded-full px-6 py-3 space-lg animate-fade-in">
                        <div class="w-3 h-3 rounded-full bg-success-500 animate-pulse"></div>
                        <span class="text-body-sm font-medium">🇮🇳 Made in India • Trusted by 500K+ users</span>
                        <div class="flex items-center space-x-1">
                            <span class="text-yellow-400">★★★★★</span>
                            <span class="text-body-sm">4.9</span>
                        </div>
                    </div>
                    
                    <!-- Main Headline -->
                    <h2 class="font-display text-display-xl text-white space-lg animate-slide-up">
                        <span class="block space-sm">Premium AI</span>
                        <span class="block text-yellow-300 space-sm">Nutrition Coach</span>
                        <span class="text-body-xl font-medium opacity-90">Designed for Modern India 🚀</span>
                    </h2>
                    
                    <!-- Enhanced Value Proposition -->
                    <div class="max-w-4xl mx-auto space-2xl animate-slide-up" style="animation-delay: 0.2s;">
                        <p class="text-body-xl opacity-95 space-lg">
                            Get AI-powered meal plans with 10,000+ authentic Indian recipes, personalized for your taste, allergies, and lifestyle.
                        </p>
                        <div class="flex flex-wrap justify-center items-center gap-4 text-body-lg">
                            <span class="glass-dark px-4 py-2 rounded-full font-semibold text-green-300">🥗 Personalized</span>
                            <span class="opacity-75">•</span>
                            <span class="glass-dark px-4 py-2 rounded-full font-semibold text-blue-300">🎯 Goal-Oriented</span>
                            <span class="opacity-75">•</span>
                            <span class="glass-dark px-4 py-2 rounded-full font-semibold text-pink-300">🏆 Gamified</span>
                        </div>
                    </div>
                    
                    <!-- Premium Stats Grid -->
                    <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 space-2xl animate-slide-up" style="animation-delay: 0.4s;">
                        <div class="card-premium p-6 text-center gpu-accelerated">
                            <div class="w-16 h-16 mx-auto space-sm rounded-xl gradient-success flex items-center justify-center">
                                <span class="text-3xl">⚡</span>
                            </div>
                            <div class="font-display text-2xl font-bold text-neutral-800 space-xs">15-sec</div>
                            <div class="text-body-sm text-neutral-600">AI Setup</div>
                        </div>
                        <div class="card-premium p-6 text-center gpu-accelerated">
                            <div class="w-16 h-16 mx-auto space-sm rounded-xl gradient-primary flex items-center justify-center">
                                <span class="text-3xl">🎯</span>
                            </div>
                            <div class="font-display text-2xl font-bold text-neutral-800 space-xs">99.2%</div>
                            <div class="text-body-sm text-neutral-600">Success Rate</div>
                        </div>
                        <div class="card-premium p-6 text-center gpu-accelerated">
                            <div class="w-16 h-16 mx-auto space-sm rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center">
                                <span class="text-3xl">🏆</span>
                            </div>
                            <div class="font-display text-2xl font-bold text-neutral-800 space-xs">#1</div>
                            <div class="text-body-sm text-neutral-600">Indian Diet App</div>
                        </div>
                        <div class="card-premium p-6 text-center gpu-accelerated">
                            <div class="w-16 h-16 mx-auto space-sm rounded-xl bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center">
                                <span class="text-3xl">🔥</span>
                            </div>
                            <div class="font-display text-2xl font-bold text-neutral-800 space-xs">500K+</div>
                            <div class="text-body-sm text-neutral-600">Active Users</div>
                        </div>
                    </div>
                    
                    <!-- Premium CTA Buttons -->
                    <div class="flex flex-col sm:flex-row gap-6 justify-center items-center animate-bounce-in" style="animation-delay: 0.6s;">
                        <button onclick="startPlanning()" class="btn-primary text-xl px-12 py-4 will-change-transform">
                            🚀 Start Your Premium Journey
                        </button>
                        <button onclick="openDemo()" class="btn-secondary">
                            ▶️ Watch Premium Demo
                        </button>
                    </div>
                    
                    <!-- Social Proof -->
                    <div class="mt-12 animate-fade-in" style="animation-delay: 0.8s;">
                        <p class="text-body-sm opacity-75 space-md">Trusted by nutritionists and fitness experts</p>
                        <div class="flex justify-center items-center space-x-8 opacity-60">
                            <div class="text-body-sm">🏥 AIIMS Approved</div>
                            <div class="text-body-sm">🥇 Fitness India Partner</div>
                            <div class="text-body-sm">📱 Google Play Editor's Choice</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Planning Section -->
    <section id="planning-section" class="py-20 hidden">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="card-premium p-8 lg:p-12">
                <!-- Progress Indicator -->
                <div class="flex justify-center space-2xl">
                    <div class="flex items-center space-x-4">
                        <div id="step-1" class="w-10 h-10 rounded-full bg-primary-500 text-white flex items-center justify-center font-semibold">1</div>
                        <div class="w-16 h-1 bg-neutral-200 rounded-full">
                            <div id="progress-1" class="h-full bg-primary-500 rounded-full transition-all duration-500" style="width: 100%;"></div>
                        </div>
                        <div id="step-2" class="w-10 h-10 rounded-full bg-neutral-200 text-neutral-500 flex items-center justify-center font-semibold">2</div>
                        <div class="w-16 h-1 bg-neutral-200 rounded-full">
                            <div id="progress-2" class="h-full bg-primary-500 rounded-full transition-all duration-500" style="width: 0%;"></div>
                        </div>
                        <div id="step-3" class="w-10 h-10 rounded-full bg-neutral-200 text-neutral-500 flex items-center justify-center font-semibold">3</div>
                    </div>
                </div>
                
                <!-- Step 1: Basic Information -->
                <div id="step-basic" class="animate-fade-in">
                    <div class="text-center space-2xl">
                        <h3 class="font-display text-display-md text-neutral-800 space-md">Tell Us About Yourself</h3>
                        <p class="text-body-xl text-neutral-600">Help our premium AI create your perfect personalized nutrition plan</p>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6 space-2xl">
                        <div>
                            <label class="block font-display font-semibold text-neutral-800 space-sm">🎂 Age</label>
                            <input type="number" id="age" class="input-premium" placeholder="Enter your age" min="13" max="100">
                            <p class="text-body-sm text-neutral-500 mt-2">We use this to calculate your metabolic rate accurately</p>
                        </div>
                        <div>
                            <label class="block font-display font-semibold text-neutral-800 space-sm">⚧️ Gender</label>
                            <select id="gender" class="input-premium">
                                <option value="">Select your gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                            <p class="text-body-sm text-neutral-500 mt-2">Helps determine precise nutritional requirements</p>
                        </div>
                        <div>
                            <label class="block font-display font-semibold text-neutral-800 space-sm">📏 Height (cm)</label>
                            <input type="number" id="height" class="input-premium" placeholder="Enter height in cm" min="100" max="250">
                            <p class="text-body-sm text-neutral-500 mt-2">Used for BMI and precise calorie calculations</p>
                        </div>
                        <div>
                            <label class="block font-display font-semibold text-neutral-800 space-sm">⚖️ Weight (kg)</label>
                            <input type="number" id="weight" class="input-premium" placeholder="Enter weight in kg" min="25" max="300" step="0.1">
                            <p class="text-body-sm text-neutral-500 mt-2">Current weight for personalized goal tracking</p>
                        </div>
                    </div>

                    <!-- Enhanced Activity Level -->
                    <div class="space-2xl">
                        <h4 class="font-display text-heading-lg text-neutral-800 space-lg">Choose Your Activity Level</h4>
                        <div class="grid md:grid-cols-4 gap-6">
                            <div onclick="selectActivity('sedentary')" class="card-premium card-interactive p-6 text-center">
                                <div class="text-5xl space-md">🪑</div>
                                <div class="font-display font-semibold text-lg text-neutral-800 space-sm">Sedentary</div>
                                <div class="text-body text-neutral-600 space-sm">Office work, minimal exercise</div>
                                <div class="text-body-sm text-neutral-500">
                                    <div>• Desk job most of the day</div>
                                    <div>• Little to no exercise</div>
                                    <div>• 1.2x BMR multiplier</div>
                                </div>
                            </div>
                            <div onclick="selectActivity('light')" class="card-premium card-interactive p-6 text-center">
                                <div class="text-5xl space-md">🚶‍♂️</div>
                                <div class="font-display font-semibold text-lg text-neutral-800 space-sm">Light Active</div>
                                <div class="text-body text-neutral-600 space-sm">Light exercise 1-3 times/week</div>
                                <div class="text-body-sm text-neutral-500">
                                    <div>• Light workouts or walks</div>
                                    <div>• Some physical activity</div>
                                    <div>• 1.375x BMR multiplier</div>
                                </div>
                            </div>
                            <div onclick="selectActivity('moderate')" class="card-premium card-interactive p-6 text-center">
                                <div class="text-5xl space-md">🏃‍♂️</div>
                                <div class="font-display font-semibold text-lg text-neutral-800 space-sm">Moderate</div>
                                <div class="text-body text-neutral-600 space-sm">Exercise 3-5 times/week</div>
                                <div class="text-body-sm text-neutral-500">
                                    <div>• Regular gym sessions</div>
                                    <div>• Consistent workouts</div>
                                    <div>• 1.55x BMR multiplier</div>
                                </div>
                            </div>
                            <div onclick="selectActivity('very-active')" class="card-premium card-interactive p-6 text-center">
                                <div class="text-5xl space-md">💪</div>
                                <div class="font-display font-semibold text-lg text-neutral-800 space-sm">Very Active</div>
                                <div class="text-body text-neutral-600 space-sm">Intense exercise 6-7 times/week</div>
                                <div class="text-body-sm text-neutral-500">
                                    <div>• Daily intense workouts</div>
                                    <div>• Athletic training</div>
                                    <div>• 1.725x BMR multiplier</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="text-center">
                        <button onclick="nextStep()" class="btn-primary text-xl px-16 py-4">
                            Continue to Preferences →
                        </button>
                    </div>
                </div>

                <!-- Step 2: Preferences & Allergies -->
                <div id="step-preferences" class="hidden">
                    <div class="text-center space-2xl">
                        <h3 class="font-display text-display-md text-neutral-800 space-md">Your Food Preferences</h3>
                        <p class="text-body-xl text-neutral-600">Tell us what you love and what to avoid for the perfect meal plan</p>
                    </div>

                    <!-- Regional Cuisine Preferences -->
                    <div class="space-2xl">
                        <h4 class="font-display text-heading-lg text-neutral-800 space-lg">Select Your Regional Preferences</h4>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div onclick="selectRegion('north')" class="card-premium card-interactive p-6 text-center">
                                <div class="text-4xl space-sm">🏔️</div>
                                <div class="font-display font-semibold text-neutral-800 space-xs">North India</div>
                                <div class="text-body-sm text-neutral-600 space-xs">Punjab, Delhi, UP</div>
                                <div class="text-caption text-neutral-500">Wheat • Dairy • Mustard oil</div>
                            </div>
                            <div onclick="selectRegion('south')" class="card-premium card-interactive p-6 text-center">
                                <div class="text-4xl space-sm">🌴</div>
                                <div class="font-display font-semibold text-neutral-800 space-xs">South India</div>
                                <div class="text-body-sm text-neutral-600 space-xs">Tamil Nadu, Kerala</div>
                                <div class="text-caption text-neutral-500">Rice • Coconut • Curry leaves</div>
                            </div>
                            <div onclick="selectRegion('west')" class="card-premium card-interactive p-6 text-center">
                                <div class="text-4xl space-sm">🏖️</div>
                                <div class="font-display font-semibold text-neutral-800 space-xs">West India</div>
                                <div class="text-body-sm text-neutral-600 space-xs">Maharashtra, Gujarat</div>
                                <div class="text-caption text-neutral-500">Jaggery • Peanuts • Gram flour</div>
                            </div>
                            <div onclick="selectRegion('east')" class="card-premium card-interactive p-6 text-center">
                                <div class="text-4xl space-sm">🐟</div>
                                <div class="font-display font-semibold text-neutral-800 space-xs">East India</div>
                                <div class="text-body-sm text-neutral-600 space-xs">West Bengal, Odisha</div>
                                <div class="text-caption text-neutral-500">Fish • Mustard • Rice</div>
                            </div>
                        </div>
                    </div>

                    <!-- Dietary Preferences -->
                    <div class="space-2xl">
                        <h4 class="font-display text-heading-lg text-neutral-800 space-lg">Dietary Preferences</h4>
                        <div class="flex flex-wrap gap-3">
                            <span onclick="togglePreference('vegetarian')" class="preference-tag">🥬 Vegetarian</span>
                            <span onclick="togglePreference('vegan')" class="preference-tag">🌱 Vegan</span>
                            <span onclick="togglePreference('jain')" class="preference-tag">🙏 Jain</span>
                            <span onclick="togglePreference('eggetarian')" class="preference-tag">🥚 Eggetarian</span>
                            <span onclick="togglePreference('non-veg')" class="preference-tag">🍗 Non-Vegetarian</span>
                            <span onclick="togglePreference('pescatarian')" class="preference-tag">🐟 Pescatarian</span>
                            <span onclick="togglePreference('keto')" class="preference-tag">🥑 Keto-Friendly</span>
                            <span onclick="togglePreference('low-carb')" class="preference-tag">🥩 Low Carb</span>
                            <span onclick="togglePreference('high-protein')" class="preference-tag">💪 High Protein</span>
                            <span onclick="togglePreference('gluten-free')" class="preference-tag">🌾 Gluten-Free</span>
                        </div>
                    </div>

                    <!-- Taste Preferences -->
                    <div class="space-2xl">
                        <h4 class="font-display text-heading-lg text-neutral-800 space-lg">Taste Preferences</h4>
                        <div class="flex flex-wrap gap-3">
                            <span onclick="toggleTaste('spicy')" class="preference-tag">🌶️ Spicy</span>
                            <span onclick="toggleTaste('mild')" class="preference-tag">😌 Mild</span>
                            <span onclick="toggleTaste('sweet')" class="preference-tag">🍯 Sweet</span>
                            <span onclick="toggleTaste('tangy')" class="preference-tag">🍋 Tangy</span>
                            <span onclick="toggleTaste('bitter')" class="preference-tag">🥬 Bitter</span>
                            <span onclick="toggleTaste('salty')" class="preference-tag">🧂 Salty</span>
                        </div>
                    </div>

                    <!-- Allergies & Restrictions -->
                    <div class="space-2xl">
                        <h4 class="font-display text-heading-lg text-neutral-800 space-lg">Allergies & Food Restrictions</h4>
                        <p class="text-body text-neutral-600 space-md">Select any foods you're allergic to or want to avoid</p>
                        <div class="flex flex-wrap gap-3">
                            <span onclick="toggleAllergy('nuts')" class="preference-tag allergy">🥜 Nuts</span>
                            <span onclick="toggleAllergy('dairy')" class="preference-tag allergy">🥛 Dairy</span>
                            <span onclick="toggleAllergy('gluten')" class="preference-tag allergy">🌾 Gluten</span>
                            <span onclick="toggleAllergy('soy')" class="preference-tag allergy">🫘 Soy</span>
                            <span onclick="toggleAllergy('eggs')" class="preference-tag allergy">🥚 Eggs</span>
                            <span onclick="toggleAllergy('shellfish')" class="preference-tag allergy">🦐 Shellfish</span>
                            <span onclick="toggleAllergy('fish')" class="preference-tag allergy">🐟 Fish</span>
                            <span onclick="toggleAllergy('sesame')" class="preference-tag allergy">🌰 Sesame</span>
                            <span onclick="toggleAllergy('onion-garlic')" class="preference-tag allergy">🧄 Onion/Garlic</span>
                            <span onclick="toggleAllergy('mushrooms')" class="preference-tag allergy">🍄 Mushrooms</span>
                        </div>
                    </div>

                    <div class="flex justify-between">
                        <button onclick="prevStep()" class="btn-ghost px-8 py-3">
                            ← Back
                        </button>
                        <button onclick="nextStep()" class="btn-primary text-xl px-16 py-4">
                            Continue to Goals →
                        </button>
                    </div>
                </div>

                <!-- Step 3: Goals & Generate -->
                <div id="step-goals" class="hidden">
                    <div class="text-center space-2xl">
                        <h3 class="font-display text-display-md text-neutral-800 space-md">Your Health Goals</h3>
                        <p class="text-body-xl text-neutral-600">What would you like to achieve with your nutrition plan?</p>
                    </div>

                    <!-- Enhanced Goal Selection -->
                    <div class="grid md:grid-cols-3 gap-8 space-2xl">
                        <div onclick="selectGoal('weight-loss')" class="card-premium card-interactive p-8 text-center">
                            <div class="text-6xl space-md">⬇️</div>
                            <div class="font-display font-semibold text-xl text-neutral-800 space-sm">Weight Loss</div>
                            <div class="text-body text-neutral-600 space-sm">Lose weight healthily with balanced nutrition</div>
                            <div class="text-body-sm text-neutral-500 space-md">
                                <div>• Sustainable calorie deficit</div>
                                <div>• High protein focus</div>
                                <div>• Metabolism boosting foods</div>
                            </div>
                            <div class="bg-red-50 rounded-lg p-3">
                                <div class="text-body-sm font-semibold text-red-700">Target: 0.5-1kg per week</div>
                            </div>
                        </div>
                        <div onclick="selectGoal('muscle-gain')" class="card-premium card-interactive p-8 text-center">
                            <div class="text-6xl space-md">💪</div>
                            <div class="font-display font-semibold text-xl text-neutral-800 space-sm">Muscle Gain</div>
                            <div class="text-body text-neutral-600 space-sm">Build lean muscle with protein-rich meals</div>
                            <div class="text-body-sm text-neutral-500 space-md">
                                <div>• Calorie surplus approach</div>
                                <div>• Enhanced protein intake</div>
                                <div>• Pre/post workout nutrition</div>
                            </div>
                            <div class="bg-green-50 rounded-lg p-3">
                                <div class="text-body-sm font-semibold text-green-700">Target: 0.25-0.5kg per week</div>
                            </div>
                        </div>
                        <div onclick="selectGoal('maintain')" class="card-premium card-interactive p-8 text-center">
                            <div class="text-6xl space-md">⚖️</div>
                            <div class="font-display font-semibold text-xl text-neutral-800 space-sm">Maintain Weight</div>
                            <div class="text-body text-neutral-600 space-sm">Stay healthy with balanced lifestyle</div>
                            <div class="text-body-sm text-neutral-500 space-md">
                                <div>• Maintenance calories</div>
                                <div>• Balanced macronutrients</div>
                                <div>• Optimal health focus</div>
                            </div>
                            <div class="bg-blue-50 rounded-lg p-3">
                                <div class="text-body-sm font-semibold text-blue-700">Target: Stable weight</div>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Goals -->
                    <div class="space-2xl">
                        <h4 class="font-display text-heading-lg text-neutral-800 space-lg">Additional Health Goals (Optional)</h4>
                        <div class="flex flex-wrap gap-3">
                            <span onclick="toggleHealthGoal('diabetes')" class="preference-tag">🩺 Diabetes Management</span>
                            <span onclick="toggleHealthGoal('heart-health')" class="preference-tag">❤️ Heart Health</span>
                            <span onclick="toggleHealthGoal('digestive')" class="preference-tag">🫄 Digestive Health</span>
                            <span onclick="toggleHealthGoal('energy')" class="preference-tag">⚡ Boost Energy</span>
                            <span onclick="toggleHealthGoal('skin')" class="preference-tag">✨ Skin Health</span>
                            <span onclick="toggleHealthGoal('immunity')" class="preference-tag">🛡️ Immunity Boost</span>
                        </div>
                    </div>

                    <!-- Generate Button -->
                    <div class="text-center space-xl">
                        <button onclick="generatePlan()" class="btn-primary text-xl px-16 py-4 will-change-transform">
                            <span id="generate-text">🤖 Generate My Premium AI Plan</span>
                            <span id="loading-text" class="hidden">Creating Your Personalized Plan... ⏳</span>
                        </button>
                        <p class="text-body-sm text-neutral-500 mt-4">
                            🔒 Your data is encrypted and never shared with third parties
                        </p>
                    </div>

                    <div class="flex justify-between">
                        <button onclick="prevStep()" class="btn-ghost px-8 py-3">
                            ← Back
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enhanced Results Section -->
    <section id="results-section" class="py-20 hidden bg-neutral-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Results Header -->
            <div class="text-center space-2xl">
                <div class="inline-flex items-center space-x-3 bg-white rounded-full px-6 py-3 space-lg shadow-sm">
                    <div class="w-3 h-3 rounded-full animate-pulse bg-success-500"></div>
                    <span class="text-body-sm font-medium text-neutral-700">Premium Plan Generated Successfully</span>
                    <span class="text-lg">✨</span>
                </div>
                
                <h3 class="font-display text-display-lg text-neutral-800 space-md">Your Premium Nutrition Plan</h3>
                <p class="text-body-xl text-neutral-600 max-w-3xl mx-auto">Crafted by advanced AI using 10,000+ authentic Indian recipes, tailored specifically for your goals, preferences, and restrictions</p>
                
                <div class="flex flex-wrap justify-center gap-4 mt-6">
                    <div class="bg-white rounded-full px-6 py-3 shadow-sm">
                        <span class="text-body-sm font-semibold text-neutral-600">BMI: </span>
                        <span id="bmi-display" class="text-body-sm font-bold text-primary-600">22.5</span>
                    </div>
                    <div class="bg-white rounded-full px-6 py-3 shadow-sm">
                        <span class="text-body-sm font-semibold text-neutral-600">Goal: </span>
                        <span id="target-display" class="text-body-sm font-bold text-success-600">Weight Loss</span>
                    </div>
                    <div class="bg-white rounded-full px-6 py-3 shadow-sm">
                        <span class="text-body-sm font-semibold text-neutral-600">Region: </span>
                        <span id="region-display" class="text-body-sm font-bold text-accent-600">North India</span>
                    </div>
                </div>
            </div>

            <!-- Daily Meal Plan -->
            <div class="grid lg:grid-cols-3 gap-8 space-2xl">
                <!-- Breakfast -->
                <div class="card-premium p-8">
                    <div class="flex items-center space-lg">
                        <div class="w-16 h-16 rounded-xl gradient-premium flex items-center justify-center mr-4">
                            <span class="text-3xl">🌅</span>
                        </div>
                        <div>
                            <h4 class="font-display text-heading-md text-neutral-800">Breakfast</h4>
                            <p class="text-body text-neutral-600">Energize your morning</p>
                        </div>
                    </div>
                    <div id="breakfast-items" class="space-y-4 space-lg">
                        <!-- Items populated by JavaScript -->
                    </div>
                    <div class="border-t pt-4 border-neutral-200">
                        <div class="flex justify-between items-center">
                            <span class="font-display font-semibold text-neutral-700">Total:</span>
                            <span id="breakfast-calories" class="font-display text-2xl font-bold text-accent-600">335 cal</span>
                        </div>
                    </div>
                </div>

                <!-- Lunch -->
                <div class="card-premium p-8">
                    <div class="flex items-center space-lg">
                        <div class="w-16 h-16 rounded-xl gradient-success flex items-center justify-center mr-4">
                            <span class="text-3xl">☀️</span>
                        </div>
                        <div>
                            <h4 class="font-display text-heading-md text-neutral-800">Lunch</h4>
                            <p class="text-body text-neutral-600">Power through your day</p>
                        </div>
                    </div>
                    <div id="lunch-items" class="space-y-4 space-lg">
                        <!-- Items populated by JavaScript -->
                    </div>
                    <div class="border-t pt-4 border-neutral-200">
                        <div class="flex justify-between items-center">
                            <span class="font-display font-semibold text-neutral-700">Total:</span>
                            <span id="lunch-calories" class="font-display text-2xl font-bold text-success-600">560 cal</span>
                        </div>
                    </div>
                </div>

                <!-- Dinner -->
                <div class="card-premium p-8">
                    <div class="flex items-center space-lg">
                        <div class="w-16 h-16 rounded-xl gradient-primary flex items-center justify-center mr-4">
                            <span class="text-3xl">🌙</span>
                        </div>
                        <div>
                            <h4 class="font-display text-heading-md text-neutral-800">Dinner</h4>
                            <p class="text-body text-neutral-600">End your day well</p>
                        </div>
                    </div>
                    <div id="dinner-items" class="space-y-4 space-lg">
                        <!-- Items populated by JavaScript -->
                    </div>
                    <div class="border-t pt-4 border-neutral-200">
                        <div class="flex justify-between items-center">
                            <span class="font-display font-semibold text-neutral-700">Total:</span>
                            <span id="dinner-calories" class="font-display text-2xl font-bold text-primary-600">530 cal</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Enhanced Daily Summary -->
            <div class="gradient-primary text-white rounded-2xl p-8 text-center space-2xl">
                <h4 class="font-display text-heading-lg space-lg">📊 Daily Nutrition Summary</h4>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                    <div class="glass-dark rounded-xl p-6">
                        <div id="total-calories" class="font-display text-4xl font-bold space-sm">1,425</div>
                        <div class="text-body opacity-90">Total Calories</div>
                        <div class="text-body-sm opacity-75">Target: 1,400</div>
                    </div>
                    <div class="glass-dark rounded-xl p-6">
                        <div id="total-protein" class="font-display text-4xl font-bold space-sm">65g</div>
                        <div class="text-body opacity-90">Protein</div>
                        <div class="text-body-sm opacity-75">Target: 60g</div>
                    </div>
                    <div class="glass-dark rounded-xl p-6">
                        <div id="total-carbs" class="font-display text-4xl font-bold space-sm">180g</div>
                        <div class="text-body opacity-90">Carbs</div>
                        <div class="text-body-sm opacity-75">Target: 175g</div>
                    </div>
                    <div class="glass-dark rounded-xl p-6">
                        <div id="total-fats" class="font-display text-4xl font-bold space-sm">45g</div>
                        <div class="text-body opacity-90">Healthy Fats</div>
                        <div class="text-body-sm opacity-75">Target: 47g</div>
                    </div>
                </div>
            </div>

            <!-- Premium Action Grid -->
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 space-2xl">
                <button onclick="downloadPlan()" class="card-premium card-interactive p-8 text-center">
                    <div class="text-4xl space-sm">📱</div>
                    <div class="font-display font-semibold text-neutral-800">Save to Phone</div>
                    <div class="text-body-sm text-neutral-600">Download your plan</div>
                </button>
                <button onclick="sharePlan()" class="card-premium card-interactive p-8 text-center">
                    <div class="text-4xl space-sm">📤</div>
                    <div class="font-display font-semibold text-neutral-800">Share Plan</div>
                    <div class="text-body-sm text-neutral-600">Share with friends</div>
                </button>
                <button onclick="showGroceryList()" class="card-premium card-interactive p-8 text-center">
                    <div class="text-4xl space-sm">🛒</div>
                    <div class="font-display font-semibold text-neutral-800">Smart Grocery</div>
                    <div class="text-body-sm text-neutral-600">AI shopping list</div>
                </button>
                <button onclick="showRecipes()" class="card-premium card-interactive p-8 text-center">
                    <div class="text-4xl space-sm">👨‍🍳</div>
                    <div class="font-display font-semibold text-neutral-800">View Recipes</div>
                    <div class="text-body-sm text-neutral-600">Step-by-step guides</div>
                </button>
            </div>

            <!-- Revolutionary AI Features Grid -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 space-2xl">
                <button onclick="openAIFoodScanner()" class="card-premium card-interactive p-8 text-center bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200">
                    <div class="text-4xl space-sm">📸</div>
                    <div class="font-display font-semibold text-neutral-800">AI Food Scanner</div>
                    <div class="text-body-sm text-neutral-600">Instant nutrition analysis</div>
                    <div class="text-xs text-purple-600 mt-2">🔥 WORLD'S FIRST for Indian food</div>
                </button>
                <button onclick="openVoiceNutritionist()" class="card-premium card-interactive p-8 text-center bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200">
                    <div class="text-4xl space-sm">🎤</div>
                    <div class="font-display font-semibold text-neutral-800">Voice Nutritionist</div>
                    <div class="text-body-sm text-neutral-600">Talk to AI in Hindi/English</div>
                    <div class="text-xs text-blue-600 mt-2">🚀 REVOLUTIONARY feature</div>
                </button>
                <button onclick="openMoodBasedNutrition()" class="card-premium card-interactive p-8 text-center bg-gradient-to-br from-green-50 to-emerald-50 border-green-200">
                    <div class="text-4xl space-sm">😊</div>
                    <div class="font-display font-semibold text-neutral-800">Mood-Based Nutrition</div>
                    <div class="text-body-sm text-neutral-600">Food for your emotions</div>
                    <div class="text-xs text-green-600 mt-2">🧠 FIRST IN INDIA</div>
                </button>
                <button onclick="openARMealPlanner()" class="card-premium card-interactive p-8 text-center bg-gradient-to-br from-orange-50 to-red-50 border-orange-200">
                    <div class="text-4xl space-sm">🥽</div>
                    <div class="font-display font-semibold text-neutral-800">AR Meal Planner</div>
                    <div class="text-body-sm text-neutral-600">Visualize portions in 3D</div>
                    <div class="text-xs text-orange-600 mt-2">🌟 WORLD'S FIRST AR nutrition</div>
                </button>
                <button onclick="openSocialChallenges()" class="card-premium card-interactive p-8 text-center bg-gradient-to-br from-yellow-50 to-amber-50 border-yellow-200">
                    <div class="text-4xl space-sm">👥</div>
                    <div class="font-display font-semibold text-neutral-800">Social Challenges</div>
                    <div class="text-body-sm text-neutral-600">Compete with friends</div>
                    <div class="text-xs text-yellow-600 mt-2">🏆 GAMIFIED nutrition</div>
                </button>
                <button onclick="openPredictiveHealth()" class="card-premium card-interactive p-8 text-center bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200">
                    <div class="text-4xl space-sm">🔮</div>
                    <div class="font-display font-semibold text-neutral-800">Predictive Health</div>
                    <div class="text-body-sm text-neutral-600">AI predicts health risks</div>
                    <div class="text-xs text-indigo-600 mt-2">🤖 ADVANCED AI analytics</div>
                </button>
            </div>

            <!-- Gamification Dashboard -->
            <div class="card-premium p-8 space-2xl">
                <h4 class="font-display text-heading-lg text-neutral-800 text-center space-lg">🏆 Your Progress Dashboard</h4>
                <div class="grid md:grid-cols-3 gap-8">
                    <!-- Streak Counter -->
                    <div class="text-center">
                        <div class="relative w-32 h-32 mx-auto space-md">
                            <svg class="w-32 h-32 transform -rotate-90">
                                <circle cx="64" cy="64" r="56" stroke="currentColor" stroke-width="8" fill="transparent" class="text-neutral-200"/>
                                <circle cx="64" cy="64" r="56" stroke="currentColor" stroke-width="8" fill="transparent" stroke-dasharray="351.86" stroke-dashoffset="87.97" class="text-warning-500 transition-all duration-500"/>
                            </svg>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="text-center">
                                    <div class="text-3xl streak-flame">🔥</div>
                                    <div class="font-display text-2xl font-bold text-neutral-800">7</div>
                                </div>
                            </div>
                        </div>
                        <div class="font-display font-semibold text-neutral-800">Day Streak</div>
                        <div class="text-body-sm text-neutral-600">Keep it up!</div>
                    </div>

                    <!-- Weekly Challenge -->
                    <div class="text-center">
                        <div class="w-32 h-32 mx-auto bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center space-md">
                            <div class="text-center text-white">
                                <div class="text-3xl">🎯</div>
                                <div class="font-display text-xl font-bold">5/7</div>
                            </div>
                        </div>
                        <div class="font-display font-semibold text-neutral-800">Weekly Challenge</div>
                        <div class="text-body-sm text-neutral-600">Protein Power Week</div>
                    </div>

                    <!-- Achievement Level -->
                    <div class="text-center">
                        <div class="w-32 h-32 mx-auto bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center space-md">
                            <div class="text-center text-white">
                                <div class="text-3xl">⭐</div>
                                <div class="font-display text-xl font-bold">12</div>
                            </div>
                        </div>
                        <div class="font-display font-semibold text-neutral-800">Nutrition Level</div>
                        <div class="text-body-sm text-neutral-600">Wellness Warrior</div>
                    </div>
                </div>
            </div>

            <!-- New Plan Button -->
            <div class="text-center">
                <button onclick="generateNewPlan()" class="btn-secondary px-12 py-4">
                    🔄 Generate New Plan
                </button>
            </div>
        </div>
    </section>

    <!-- Enhanced Features Section -->
    <section id="features" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center space-2xl">
                <h3 class="font-display text-display-lg text-neutral-800 space-md">Premium Features That Set Us Apart</h3>
                <p class="text-body-xl text-neutral-600 max-w-3xl mx-auto">Experience the most advanced AI nutrition platform designed specifically for Indian lifestyles and preferences</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                <div class="card-premium card-interactive p-8 text-center" onclick="showRecipeDatabase()">
                    <div class="w-20 h-20 mx-auto space-lg rounded-2xl gradient-premium flex items-center justify-center">
                        <span class="text-4xl">🇮🇳</span>
                    </div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-md">10,000+ Indian Recipes</h4>
                    <p class="text-body text-neutral-600">Comprehensive database of authentic regional recipes with precise nutritional data and cooking instructions</p>
                    <div class="mt-4 text-primary-600 font-semibold text-sm">Click to explore →</div>
                </div>
                <div class="card-premium card-interactive p-8 text-center" onclick="showAIEngine()">
                    <div class="w-20 h-20 mx-auto space-lg rounded-2xl gradient-primary flex items-center justify-center">
                        <span class="text-4xl">🤖</span>
                    </div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-md">Advanced AI Engine</h4>
                    <p class="text-body text-neutral-600">Machine learning algorithms that adapt to your preferences, allergies, and progress for continuously improving recommendations</p>
                    <div class="mt-4 text-primary-600 font-semibold text-sm">See AI in action →</div>
                </div>
                <div class="card-premium card-interactive p-8 text-center" onclick="showPersonalization()">
                    <div class="w-20 h-20 mx-auto space-lg rounded-2xl gradient-success flex items-center justify-center">
                        <span class="text-4xl">🎯</span>
                    </div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-md">Precision Personalization</h4>
                    <p class="text-body text-neutral-600">Accounts for taste preferences, allergies, regional cuisine, activity level, and health goals for perfect meal matching</p>
                    <div class="mt-4 text-success-600 font-semibold text-sm">Try personalization →</div>
                </div>
                <div class="card-premium card-interactive p-8 text-center" onclick="navigateToChallenges()">
                    <div class="w-20 h-20 mx-auto space-lg rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center">
                        <span class="text-4xl">🏆</span>
                    </div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-md">Gamified Experience</h4>
                    <p class="text-body text-neutral-600">Streaks, challenges, achievements, and social features that make healthy eating engaging and sustainable</p>
                    <div class="mt-4 text-purple-600 font-semibold text-sm">Join challenges →</div>
                </div>
                <div class="card-premium card-interactive p-8 text-center" onclick="showSmartIntegration()">
                    <div class="w-20 h-20 mx-auto space-lg rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center">
                        <span class="text-4xl">📱</span>
                    </div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-md">Smart Integration</h4>
                    <p class="text-body text-neutral-600">Seamless grocery lists, recipe videos, nutrition tracking, and progress analytics all in one premium platform</p>
                    <div class="mt-4 text-blue-600 font-semibold text-sm">Explore integrations →</div>
                </div>
                <div class="card-premium card-interactive p-8 text-center" onclick="showScienceBacked()">
                    <div class="w-20 h-20 mx-auto space-lg rounded-2xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center">
                        <span class="text-4xl">🔬</span>
                    </div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-md">Science-Backed</h4>
                    <p class="text-body text-neutral-600">Developed with nutritionists and validated by medical professionals for safe, effective, and sustainable results</p>
                    <div class="mt-4 text-green-600 font-semibold text-sm">View research →</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gamification Section -->
    <section id="gamification" class="py-20 bg-gradient-to-br from-purple-50 to-pink-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center space-2xl">
                <h3 class="font-display text-display-lg text-neutral-800 space-md">Make Healthy Eating Fun & Rewarding</h3>
                <p class="text-body-xl text-neutral-600 max-w-3xl mx-auto">Join thousands of users who've transformed their health through our engaging gamification system</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Daily Streaks -->
                <div class="card-premium card-interactive p-8 text-center" onclick="showStreakDetails()">
                    <div class="text-6xl space-md streak-flame">🔥</div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-sm">Daily Streaks</h4>
                    <p class="text-body text-neutral-600 space-md">Build momentum with consecutive days of healthy eating</p>
                    <div class="bg-warning-50 rounded-lg p-4">
                        <div class="text-body-sm font-semibold text-warning-700">Longest streak: 47 days</div>
                        <div class="text-caption text-warning-600">by @healthypriya</div>
                    </div>
                    <div class="mt-4 text-warning-600 font-semibold text-sm">View your streak →</div>
                </div>

                <!-- Weekly Challenges -->
                <div class="card-premium card-interactive p-8 text-center" onclick="showWeeklyChallenges()">
                    <div class="text-6xl space-md">🎯</div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-sm">Weekly Challenges</h4>
                    <p class="text-body text-neutral-600 space-md">Complete themed challenges for bonus rewards</p>
                    <div class="bg-purple-50 rounded-lg p-4">
                        <div class="text-body-sm font-semibold text-purple-700">This Week: Protein Power</div>
                        <div class="text-caption text-purple-600">Hit protein goals 5/7 days</div>
                    </div>
                    <div class="mt-4 text-purple-600 font-semibold text-sm">Join challenge →</div>
                </div>

                <!-- Achievement Badges -->
                <div class="card-premium card-interactive p-8 text-center" onclick="showAchievements()">
                    <div class="text-6xl space-md">🏅</div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-sm">Achievement Badges</h4>
                    <p class="text-body text-neutral-600 space-md">Unlock badges for reaching nutrition milestones</p>
                    <div class="bg-yellow-50 rounded-lg p-4">
                        <div class="text-body-sm font-semibold text-yellow-700">Next: Veggie Master</div>
                        <div class="text-caption text-yellow-600">Eat 5 servings daily for 7 days</div>
                    </div>
                    <div class="mt-4 text-yellow-600 font-semibold text-sm">View badges →</div>
                </div>

                <!-- Leaderboards -->
                <div class="card-premium card-interactive p-8 text-center" onclick="openSocialChallenges()">
                    <div class="text-6xl space-md">👑</div>
                    <h4 class="font-display text-heading-md text-neutral-800 space-sm">Community Leaderboards</h4>
                    <p class="text-body text-neutral-600 space-md">Compete with friends and the community</p>
                    <div class="bg-blue-50 rounded-lg p-4">
                        <div class="text-body-sm font-semibold text-blue-700">Your Rank: #127</div>
                        <div class="text-caption text-blue-600">in Mumbai region</div>
                    </div>
                    <div class="mt-4 text-blue-600 font-semibold text-sm">View leaderboard →</div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Food Scanner Modal -->
    <div id="food-scanner-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-4xl w-full p-8 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center space-lg">
                <h3 class="font-display text-heading-lg text-neutral-800">📸 AI Food Scanner</h3>
                <button onclick="closeFoodScanner()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="text-center space-2xl">
                <div class="w-64 h-64 mx-auto bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl flex items-center justify-center border-4 border-dashed border-purple-300 cursor-pointer hover:border-purple-500 transition-colors" onclick="simulatePhotoCapture()">
                    <div id="camera-placeholder" class="text-center">
                        <div class="text-6xl space-md">📷</div>
                        <div class="font-display font-semibold text-purple-700">Tap to Scan Food</div>
                        <div class="text-sm text-purple-600">Point camera at your meal</div>
                    </div>
                    <div id="scanning-animation" class="hidden text-center">
                        <div class="text-6xl space-md animate-pulse">🔍</div>
                        <div class="font-display font-semibold text-purple-700">Analyzing...</div>
                        <div class="text-sm text-purple-600">AI processing image</div>
                    </div>
                </div>
                
                <div id="scan-results" class="hidden space-lg">
                    <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200">
                        <h4 class="font-display text-lg font-semibold text-green-800 space-md">🎯 Detected: Aloo Paratha with Curd</h4>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 space-md">
                            <div class="text-center">
                                <div class="text-2xl font-bold text-green-700">285</div>
                                <div class="text-sm text-green-600">Calories</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-blue-700">8g</div>
                                <div class="text-sm text-blue-600">Protein</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-orange-700">42g</div>
                                <div class="text-sm text-orange-600">Carbs</div>
                            </div>
                            <div class="text-center">
                                <div class="text-2xl font-bold text-red-700">9g</div>
                                <div class="text-sm text-red-600">Fat</div>
                            </div>
                        </div>
                        <div class="flex gap-3 mt-4">
                            <button class="btn-primary flex-1">Add to Today's Log</button>
                            <button class="btn-secondary">Get Healthier Alternative</button>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-3 gap-4 text-sm text-neutral-600">
                    <div class="text-center">
                        <div class="text-2xl">🇮🇳</div>
                        <div>Trained on 50,000+ Indian dishes</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl">⚡</div>
                        <div>Instant recognition in 2 seconds</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl">🎯</div>
                        <div>98.5% accuracy rate</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Voice Nutritionist Modal -->
    <div id="voice-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-3xl w-full p-8">
            <div class="flex justify-between items-center space-lg">
                <h3 class="font-display text-heading-lg text-neutral-800">🎤 Voice Nutritionist</h3>
                <button onclick="closeVoiceNutritionist()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="text-center space-2xl">
                <div class="w-32 h-32 mx-auto bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center cursor-pointer hover:scale-105 transition-transform" onclick="toggleVoiceRecording()">
                    <div id="voice-icon" class="text-5xl text-white">🎤</div>
                </div>
                
                <div id="voice-status" class="space-lg">
                    <div class="font-display text-xl text-neutral-800">Tap to start talking</div>
                    <div class="text-neutral-600">Ask me anything about nutrition in Hindi or English</div>
                </div>
                
                <div id="voice-conversation" class="hidden space-lg max-h-64 overflow-y-auto">
                    <div class="space-y-4 text-left">
                        <!-- Conversation will be populated here -->
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div class="bg-blue-50 rounded-lg p-4">
                        <div class="font-semibold text-blue-800">Try asking:</div>
                        <div class="text-blue-600">"मुझे वजन कम करने के लिए क्या खाना चाहिए?"</div>
                    </div>
                    <div class="bg-green-50 rounded-lg p-4">
                        <div class="font-semibold text-green-800">Or say:</div>
                        <div class="text-green-600">"What's the protein content in paneer?"</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mood-Based Nutrition Modal -->
    <div id="mood-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-5xl w-full p-8 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center space-lg">
                <h3 class="font-display text-heading-lg text-neutral-800">😊 Mood-Based Nutrition</h3>
                <button onclick="closeMoodNutrition()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="text-center space-2xl">
                <h4 class="font-display text-xl text-neutral-800">How are you feeling today?</h4>
                <div class="grid grid-cols-3 md:grid-cols-6 gap-4">
                    <button onclick="selectMood('happy')" class="mood-card p-6 rounded-xl border-2 border-transparent hover:border-yellow-300 transition-colors">
                        <div class="text-4xl space-sm">😊</div>
                        <div class="font-semibold">Happy</div>
                    </button>
                    <button onclick="selectMood('stressed')" class="mood-card p-6 rounded-xl border-2 border-transparent hover:border-red-300 transition-colors">
                        <div class="text-4xl space-sm">😰</div>
                        <div class="font-semibold">Stressed</div>
                    </button>
                    <button onclick="selectMood('tired')" class="mood-card p-6 rounded-xl border-2 border-transparent hover:border-blue-300 transition-colors">
                        <div class="text-4xl space-sm">😴</div>
                        <div class="font-semibold">Tired</div>
                    </button>
                    <button onclick="selectMood('anxious')" class="mood-card p-6 rounded-xl border-2 border-transparent hover:border-purple-300 transition-colors">
                        <div class="text-4xl space-sm">😟</div>
                        <div class="font-semibold">Anxious</div>
                    </button>
                    <button onclick="selectMood('energetic')" class="mood-card p-6 rounded-xl border-2 border-transparent hover:border-green-300 transition-colors">
                        <div class="text-4xl space-sm">⚡</div>
                        <div class="font-semibold">Energetic</div>
                    </button>
                    <button onclick="selectMood('sad')" class="mood-card p-6 rounded-xl border-2 border-transparent hover:border-gray-300 transition-colors">
                        <div class="text-4xl space-sm">😢</div>
                        <div class="font-semibold">Sad</div>
                    </button>
                </div>
                
                <div id="mood-recommendations" class="hidden space-lg">
                    <!-- Mood-based recommendations will appear here -->
                </div>
            </div>
        </div>
    </div>

    <!-- AR Meal Planner Modal -->
    <div id="ar-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-4xl w-full p-8">
            <div class="flex justify-between items-center space-lg">
                <h3 class="font-display text-heading-lg text-neutral-800">🥽 AR Meal Planner</h3>
                <button onclick="closeARPlanner()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="text-center space-2xl">
                <div class="bg-gradient-to-br from-orange-100 to-red-100 rounded-2xl p-8 border-2 border-dashed border-orange-300">
                    <div class="text-6xl space-md">🥽</div>
                    <h4 class="font-display text-xl text-neutral-800 space-md">Visualize Your Portions in 3D</h4>
                    <p class="text-neutral-600 space-lg">Point your camera at your plate to see perfect portion sizes overlaid in augmented reality</p>
                    
                    <div class="grid grid-cols-2 gap-6 space-lg">
                        <div class="bg-white rounded-xl p-6 shadow-sm">
                            <div class="text-3xl space-sm">📏</div>
                            <div class="font-semibold text-neutral-800">Perfect Portions</div>
                            <div class="text-sm text-neutral-600">See exactly how much to eat</div>
                        </div>
                        <div class="bg-white rounded-xl p-6 shadow-sm">
                            <div class="text-3xl space-sm">🎯</div>
                            <div class="font-semibold text-neutral-800">Macro Balance</div>
                            <div class="text-sm text-neutral-600">Visual protein-carb-fat ratios</div>
                        </div>
                    </div>
                    
                    <button onclick="startARExperience()" class="btn-primary mt-6">
                        🚀 Start AR Experience
                    </button>
                </div>
                
                <div class="text-sm text-neutral-500">
                    💡 This revolutionary feature uses your device camera to overlay portion guides directly on your food
                </div>
            </div>
        </div>
    </div>

    <!-- Social Challenges Modal -->
    <div id="social-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-6xl w-full p-8 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center space-lg">
                <h3 class="font-display text-heading-lg text-neutral-800">👥 Social Challenges</h3>
                <button onclick="closeSocialChallenges()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8 space-2xl">
                <!-- Active Challenges -->
                <div>
                    <h4 class="font-display text-lg font-semibold text-neutral-800 space-lg">🔥 Active Challenges</h4>
                    <div class="space-y-4">
                        <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200">
                            <div class="flex justify-between items-start space-md">
                                <div>
                                    <div class="font-semibold text-green-800">30-Day Protein Challenge</div>
                                    <div class="text-sm text-green-600">Hit protein goals daily</div>
                                    <div class="text-xs text-green-500 mt-2">2,847 participants • 12 days left</div>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl font-bold text-green-700">18/30</div>
                                    <div class="text-xs text-green-600">days completed</div>
                                </div>
                            </div>
                            <div class="w-full bg-green-200 rounded-full h-2 mt-4">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 60%"></div>
                            </div>
                        </div>
                        
                        <div class="bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-6 border border-blue-200">
                            <div class="flex justify-between items-start space-md">
                                <div>
                                    <div class="font-semibold text-blue-800">Mumbai Fitness Squad</div>
                                    <div class="text-sm text-blue-600">Team calorie challenge</div>
                                    <div class="text-xs text-blue-500 mt-2">8 members • Rank #3</div>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl font-bold text-blue-700">🥉</div>
                                    <div class="text-xs text-blue-600">current position</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Leaderboard -->
                <div>
                    <h4 class="font-display text-lg font-semibold text-neutral-800 space-lg">🏆 This Week's Leaders</h4>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-yellow-50 to-amber-50 rounded-xl border border-yellow-200">
                            <div class="flex items-center space-x-3">
                                <div class="text-2xl">👑</div>
                                <div>
                                    <div class="font-semibold text-yellow-800">@healthypriya</div>
                                    <div class="text-sm text-yellow-600">Perfect week streak</div>
                                </div>
                            </div>
                            <div class="text-yellow-700 font-bold">2,450 pts</div>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-neutral-50 rounded-xl">
                            <div class="flex items-center space-x-3">
                                <div class="text-2xl">🥈</div>
                                <div>
                                    <div class="font-semibold text-neutral-800">@fitnessraj</div>
                                    <div class="text-sm text-neutral-600">Consistency king</div>
                                </div>
                            </div>
                            <div class="text-neutral-700 font-bold">2,180 pts</div>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-neutral-50 rounded-xl">
                            <div class="flex items-center space-x-3">
                                <div class="text-2xl">🥉</div>
                                <div>
                                    <div class="font-semibold text-neutral-800">@yogamama</div>
                                    <div class="text-sm text-neutral-600">Mindful eating</div>
                                </div>
                            </div>
                            <div class="text-neutral-700 font-bold">1,950 pts</div>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-primary-50 rounded-xl border-2 border-primary-200">
                            <div class="flex items-center space-x-3">
                                <div class="text-2xl">🎯</div>
                                <div>
                                    <div class="font-semibold text-primary-800">You</div>
                                    <div class="text-sm text-primary-600">Keep pushing!</div>
                                </div>
                            </div>
                            <div class="text-primary-700 font-bold">1,420 pts</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center space-lg">
                <button class="btn-primary mr-4">Join New Challenge</button>
                <button class="btn-secondary">Create Team Challenge</button>
            </div>
        </div>
    </div>

    <!-- Predictive Health Modal -->
    <div id="predictive-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-5xl w-full p-8 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center space-lg">
                <h3 class="font-display text-heading-lg text-neutral-800">🔮 Predictive Health Analytics</h3>
                <button onclick="closePredictiveHealth()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-2xl">
                <div class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-200">
                    <h4 class="font-display text-lg font-semibold text-indigo-800 space-md">🤖 AI Health Predictions</h4>
                    <p class="text-indigo-600 space-lg">Based on your nutrition patterns, lifestyle, and genetic markers, our AI predicts potential health outcomes</p>
                    
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="bg-white rounded-xl p-6 shadow-sm">
                            <div class="text-3xl space-sm">❤️</div>
                            <div class="font-semibold text-neutral-800">Heart Health</div>
                            <div class="text-2xl font-bold text-green-600 space-xs">92%</div>
                            <div class="text-sm text-green-600">Excellent trajectory</div>
                            <div class="text-xs text-neutral-500 mt-2">Based on omega-3 intake & exercise</div>
                        </div>
                        
                        <div class="bg-white rounded-xl p-6 shadow-sm">
                            <div class="text-3xl space-sm">🩺</div>
                            <div class="font-semibold text-neutral-800">Diabetes Risk</div>
                            <div class="text-2xl font-bold text-yellow-600 space-xs">15%</div>
                            <div class="text-sm text-yellow-600">Low risk</div>
                            <div class="text-xs text-neutral-500 mt-2">Monitor sugar intake</div>
                        </div>
                        
                        <div class="bg-white rounded-xl p-6 shadow-sm">
                            <div class="text-3xl space-sm">🦴</div>
                            <div class="font-semibold text-neutral-800">Bone Density</div>
                            <div class="text-2xl font-bold text-blue-600 space-xs">88%</div>
                            <div class="text-sm text-blue-600">Good strength</div>
                            <div class="text-xs text-neutral-500 mt-2">Increase calcium & Vitamin D</div>
                        </div>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white rounded-xl p-6 shadow-sm">
                        <h5 class="font-display font-semibold text-neutral-800 space-md">📈 30-Day Trend Analysis</h5>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-neutral-600">Energy Levels</span>
                                <span class="text-green-600 font-semibold">↗️ +15%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-neutral-600">Sleep Quality</span>
                                <span class="text-green-600 font-semibold">↗️ +22%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-neutral-600">Stress Markers</span>
                                <span class="text-red-600 font-semibold">↘️ -18%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-sm text-neutral-600">Inflammation</span>
                                <span class="text-green-600 font-semibold">↘️ -12%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl p-6 shadow-sm">
                        <h5 class="font-display font-semibold text-neutral-800 space-md">🎯 Personalized Recommendations</h5>
                        <div class="space-y-3">
                            <div class="flex items-start space-x-3">
                                <div class="text-green-500">✓</div>
                                <div class="text-sm text-neutral-600">Increase omega-3 rich foods (fish, walnuts)</div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="text-yellow-500">⚠️</div>
                                <div class="text-sm text-neutral-600">Reduce refined sugar intake by 20%</div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="text-blue-500">💡</div>
                                <div class="text-sm text-neutral-600">Add 15 minutes morning sunlight for Vitamin D</div>
                            </div>
                            <div class="flex items-start space-x-3">
                                <div class="text-purple-500">🧘</div>
                                <div class="text-sm text-neutral-600">Include magnesium-rich foods for better sleep</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contact-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-4xl w-full p-8 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center space-lg">
                <h3 class="font-display text-heading-lg text-neutral-800">📞 Contact SwasthAI Premium</h3>
                <button onclick="closeContactModal()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8 space-2xl">
                <!-- Contact Information -->
                <div>
                    <h4 class="font-display text-xl font-semibold text-neutral-800 space-lg">Get in Touch</h4>
                    <div class="space-y-6">
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                <span class="text-2xl">📧</span>
                            </div>
                            <div>
                                <div class="font-semibold text-neutral-800">Email Support</div>
                                <div class="text-neutral-600">vatsaryan154@gmail.com</div>
                                <div class="text-sm text-neutral-500">Contact Aryan Vats - Response within 2 hours</div>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                <span class="text-2xl">📱</span>
                            </div>
                            <div>
                                <div class="font-semibold text-neutral-800">WhatsApp Support</div>
                                <div class="text-neutral-600">+91 98765 43210</div>
                                <div class="text-sm text-neutral-500">24/7 AI + Human support</div>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                <span class="text-2xl">💬</span>
                            </div>
                            <div>
                                <div class="font-semibold text-neutral-800">Live Chat</div>
                                <div class="text-neutral-600">Available in app</div>
                                <div class="text-sm text-neutral-500">Instant AI responses</div>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0">
                                <span class="text-2xl">🏢</span>
                            </div>
                            <div>
                                <div class="font-semibold text-neutral-800">Office Address</div>
                                <div class="text-neutral-600">SwasthAI Technologies Pvt Ltd</div>
                                <div class="text-neutral-600">Koramangala, Bangalore 560034</div>
                                <div class="text-sm text-neutral-500">Visit by appointment only</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Social Media -->
                    <div class="space-lg">
                        <h5 class="font-display font-semibold text-neutral-800 space-md">Follow Us</h5>
                        <div class="flex space-x-4">
                            <button onclick="openSocialMedia('instagram')" class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center text-white hover:scale-105 transition-transform">
                                <span class="text-xl">📷</span>
                            </button>
                            <button onclick="openSocialMedia('youtube')" class="w-12 h-12 bg-red-500 rounded-xl flex items-center justify-center text-white hover:scale-105 transition-transform">
                                <span class="text-xl">📺</span>
                            </button>
                            <button onclick="openSocialMedia('twitter')" class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center text-white hover:scale-105 transition-transform">
                                <span class="text-xl">🐦</span>
                            </button>
                            <button onclick="openSocialMedia('linkedin')" class="w-12 h-12 bg-blue-700 rounded-xl flex items-center justify-center text-white hover:scale-105 transition-transform">
                                <span class="text-xl">💼</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Contact Form -->
                <div>
                    <h4 class="font-display text-xl font-semibold text-neutral-800 space-lg">Send us a Message</h4>
                    <form onsubmit="submitContactForm(event)" class="space-y-6">
                        <div>
                            <label class="block font-semibold text-neutral-700 space-sm">Name *</label>
                            <input type="text" required class="input-premium" placeholder="Your full name">
                        </div>
                        
                        <div>
                            <label class="block font-semibold text-neutral-700 space-sm">Email *</label>
                            <input type="email" required class="input-premium" placeholder="your.email@example.com">
                        </div>
                        
                        <div>
                            <label class="block font-semibold text-neutral-700 space-sm">Phone</label>
                            <input type="tel" class="input-premium" placeholder="+91 98765 43210">
                        </div>
                        
                        <div>
                            <label class="block font-semibold text-neutral-700 space-sm">Subject *</label>
                            <select required class="input-premium">
                                <option value="">Select a topic</option>
                                <option value="support">Technical Support</option>
                                <option value="billing">Billing & Subscription</option>
                                <option value="feedback">Feedback & Suggestions</option>
                                <option value="partnership">Business Partnership</option>
                                <option value="media">Media & Press</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block font-semibold text-neutral-700 space-sm">Message *</label>
                            <textarea required class="input-premium min-h-[120px] resize-y" placeholder="Tell us how we can help you..."></textarea>
                        </div>
                        
                        <button type="submit" class="btn-primary w-full">
                            Send Message 📤
                        </button>
                        
                        <div class="text-sm text-neutral-500 text-center">
                            We typically respond within 2 hours during business hours
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Premium Footer -->
    <footer class="bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 text-white">
        <!-- Main Footer Content -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="grid lg:grid-cols-4 md:grid-cols-2 gap-12">
                <!-- Company Info -->
                <div class="lg:col-span-1">
                    <div class="flex items-center space-x-3 space-2xl">
                        <div class="w-12 h-12 gradient-primary rounded-xl flex items-center justify-center">
                            <span class="text-2xl">🧠</span>
                        </div>
                        <div>
                            <h3 class="font-display text-2xl font-bold">SwasthAI</h3>
                            <p class="text-sm text-neutral-300">Premium AI Nutrition</p>
                        </div>
                    </div>
                    <p class="text-neutral-300 space-lg">
                        India's most advanced AI-powered nutrition platform. Transforming health through personalized meal planning and intelligent food recommendations.
                    </p>
                    
                    <!-- Trust Badges -->
                    <div class="space-y-3 space-lg">
                        <div class="flex items-center space-x-2 text-sm text-neutral-300">
                            <span class="text-green-400">✓</span>
                            <span>500K+ Active Users</span>
                        </div>
                        <div class="flex items-center space-x-2 text-sm text-neutral-300">
                            <span class="text-green-400">✓</span>
                            <span>AIIMS Approved</span>
                        </div>
                        <div class="flex items-center space-x-2 text-sm text-neutral-300">
                            <span class="text-green-400">✓</span>
                            <span>ISO 27001 Certified</span>
                        </div>
                        <div class="flex items-center space-x-2 text-sm text-neutral-300">
                            <span class="text-green-400">✓</span>
                            <span>Google Play Editor's Choice</span>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h4 class="font-display text-lg font-semibold space-lg">Quick Links</h4>
                    <ul class="space-y-3">
                        <li><a href="#" onclick="navigateToHome()" class="text-neutral-300 hover:text-white transition-colors">Home</a></li>
                        <li><a href="#" onclick="navigateToFeatures()" class="text-neutral-300 hover:text-white transition-colors">Features</a></li>
                        <li><a href="#" onclick="navigateToChallenges()" class="text-neutral-300 hover:text-white transition-colors">Challenges</a></li>
                        <li><a href="#" onclick="startPlanning()" class="text-neutral-300 hover:text-white transition-colors">Create Plan</a></li>
                        <li><a href="#" onclick="openPricingModal()" class="text-neutral-300 hover:text-white transition-colors">Pricing</a></li>
                        <li><a href="#" onclick="openAboutModal()" class="text-neutral-300 hover:text-white transition-colors">About Us</a></li>
                        <li><a href="#" onclick="openCareersModal()" class="text-neutral-300 hover:text-white transition-colors">Careers</a></li>
                    </ul>
                </div>
                
                <!-- Support & Resources -->
                <div>
                    <h4 class="font-display text-lg font-semibold space-lg">Support & Resources</h4>
                    <ul class="space-y-3">
                        <li><a href="#" onclick="openContactModal()" class="text-neutral-300 hover:text-white transition-colors">Contact Support</a></li>
                        <li><a href="#" onclick="openHelpModal()" class="text-neutral-300 hover:text-white transition-colors">Help Center</a></li>
                        <li><a href="#" onclick="openFAQModal()" class="text-neutral-300 hover:text-white transition-colors">FAQ</a></li>
                        <li><a href="#" onclick="openBlogModal()" class="text-neutral-300 hover:text-white transition-colors">Nutrition Blog</a></li>
                        <li><a href="#" onclick="openRecipesModal()" class="text-neutral-300 hover:text-white transition-colors">Recipe Database</a></li>
                        <li><a href="#" onclick="openAPIModal()" class="text-neutral-300 hover:text-white transition-colors">Developer API</a></li>
                        <li><a href="#" onclick="openCommunityModal()" class="text-neutral-300 hover:text-white transition-colors">Community</a></li>
                    </ul>
                </div>
                
                <!-- Contact & Download -->
                <div>
                    <h4 class="font-display text-lg font-semibold space-lg">Get SwasthAI</h4>
                    
                    <!-- App Download Buttons -->
                    <div class="space-y-4 space-lg">
                        <button onclick="downloadApp('android')" class="w-full bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 rounded-xl p-4 flex items-center space-x-3 transition-all transform hover:scale-105">
                            <span class="text-2xl">📱</span>
                            <div class="text-left">
                                <div class="text-xs text-green-100">Get it on</div>
                                <div class="font-semibold">Google Play</div>
                            </div>
                        </button>
                        
                        <button onclick="downloadApp('ios')" class="w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 rounded-xl p-4 flex items-center space-x-3 transition-all transform hover:scale-105">
                            <span class="text-2xl">🍎</span>
                            <div class="text-left">
                                <div class="text-xs text-blue-100">Download on the</div>
                                <div class="font-semibold">App Store</div>
                            </div>
                        </button>
                        
                        <button onclick="downloadApp('web')" class="w-full bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-700 hover:to-purple-600 rounded-xl p-4 flex items-center space-x-3 transition-all transform hover:scale-105">
                            <span class="text-2xl">💻</span>
                            <div class="text-left">
                                <div class="text-xs text-purple-100">Use on</div>
                                <div class="font-semibold">Web Browser</div>
                            </div>
                        </button>
                    </div>
                    
                    <!-- Contact Info -->
                    <div class="space-lg">
                        <div class="flex items-center space-x-3 text-sm text-neutral-300">
                            <span class="text-primary-400">📧</span>
                            <span>support@swasthai.com</span>
                        </div>
                        <div class="flex items-center space-x-3 text-sm text-neutral-300">
                            <span class="text-green-400">📱</span>
                            <span>+91 98765 43210</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Newsletter Signup -->
        <div class="border-t border-neutral-700">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="text-center space-2xl">
                    <h4 class="font-display text-2xl font-semibold space-md">Stay Updated with Premium Nutrition Tips</h4>
                    <p class="text-neutral-300 max-w-2xl mx-auto space-lg">
                        Get weekly AI-curated nutrition insights, exclusive recipes, and early access to new features.
                    </p>
                    
                    <form onsubmit="subscribeNewsletter(event)" class="max-w-md mx-auto flex gap-4">
                        <input type="email" required class="flex-1 px-4 py-3 rounded-xl bg-neutral-800 border border-neutral-600 text-white placeholder-neutral-400 focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20" placeholder="Enter your email">
                        <button type="submit" class="btn-primary px-8 py-3 whitespace-nowrap">
                            Subscribe 🚀
                        </button>
                    </form>
                    
                    <div class="flex justify-center items-center space-x-6 text-sm text-neutral-400 mt-6">
                        <span>✓ No spam, ever</span>
                        <span>✓ Unsubscribe anytime</span>
                        <span>✓ 50K+ subscribers</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Social Media & Bottom Links -->
        <div class="border-t border-neutral-700">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div class="flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0">
                    <!-- Social Media -->
                    <div class="flex items-center space-x-6">
                        <span class="text-neutral-400 text-sm">Follow us:</span>
                        <div class="flex space-x-4">
                            <button onclick="openSocialMedia('instagram')" class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center text-white hover:scale-110 transition-transform">
                                <span class="text-lg">📷</span>
                            </button>
                            <button onclick="openSocialMedia('youtube')" class="w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center text-white hover:scale-110 transition-transform">
                                <span class="text-lg">📺</span>
                            </button>
                            <button onclick="openSocialMedia('twitter')" class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center text-white hover:scale-110 transition-transform">
                                <span class="text-lg">🐦</span>
                            </button>
                            <button onclick="openSocialMedia('linkedin')" class="w-10 h-10 bg-blue-700 rounded-lg flex items-center justify-center text-white hover:scale-110 transition-transform">
                                <span class="text-lg">💼</span>
                            </button>
                            <button onclick="openSocialMedia('telegram')" class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center text-white hover:scale-110 transition-transform">
                                <span class="text-lg">✈️</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Legal Links -->
                    <div class="flex flex-wrap justify-center items-center space-x-6 text-sm text-neutral-400">
                        <a href="#" onclick="openPrivacyModal()" class="hover:text-white transition-colors">Privacy Policy</a>
                        <a href="#" onclick="openTermsModal()" class="hover:text-white transition-colors">Terms of Service</a>
                        <a href="#" onclick="openCookieModal()" class="hover:text-white transition-colors">Cookie Policy</a>
                        <a href="#" onclick="openSecurityModal()" class="hover:text-white transition-colors">Security</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Copyright -->
        <div class="border-t border-neutral-700 bg-neutral-900">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                    <div class="text-sm text-neutral-400">
                        © 2024 SwasthAI Technologies Pvt Ltd. All rights reserved. | Made with ❤️ in India
                    </div>
                    <div class="flex items-center space-x-4 text-sm text-neutral-400">
                        <span>🏆 Winner: Best Health App 2024</span>
                        <span>•</span>
                        <span>⭐ 4.9/5 Rating</span>
                        <span>•</span>
                        <span>🔒 ISO 27001 Certified</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Smart Grocery List Modal -->
    <div id="grocery-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col">
            <!-- Header -->
            <div class="flex justify-between items-center p-8 border-b border-neutral-200">
                <div>
                    <h3 class="font-display text-heading-lg text-neutral-800 space-sm">🛒 Smart Grocery List</h3>
                    <p class="text-body text-neutral-600">AI-generated shopping list based on your personalized meal plan</p>
                </div>
                <button onclick="closeGroceryModal()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Content -->
            <div class="flex-1 overflow-y-auto p-8">
                <!-- Price Summary -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 space-2xl">
                    <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 text-center border border-green-200">
                        <div class="text-3xl font-display font-bold text-green-700" id="essential-price">₹0</div>
                        <div class="text-sm font-semibold text-green-600">Essential Items</div>
                        <div class="text-xs text-green-500 mt-1">Must-have ingredients</div>
                    </div>
                    <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl p-6 text-center border border-blue-200">
                        <div class="text-3xl font-display font-bold text-blue-700" id="optional-price">₹0</div>
                        <div class="text-sm font-semibold text-blue-600">Optional Items</div>
                        <div class="text-xs text-blue-500 mt-1">Nice-to-have extras</div>
                    </div>
                    <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 text-center border border-purple-200">
                        <div class="text-3xl font-display font-bold text-purple-700" id="total-price">₹0</div>
                        <div class="text-sm font-semibold text-purple-600">Total Budget</div>
                        <div class="text-xs text-purple-500 mt-1">Complete list cost</div>
                    </div>
                    <div class="bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-6 text-center border border-orange-200">
                        <div class="text-3xl font-display font-bold text-orange-700" id="selected-total">₹0</div>
                        <div class="text-sm font-semibold text-orange-600">Selected Total</div>
                        <div class="text-xs text-orange-500 mt-1">Your cart value</div>
                    </div>
                </div>
                
                <!-- Grocery Items -->
                <div id="grocery-items" class="space-y-6">
                    <!-- Items will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Footer Actions -->
            <div class="border-t border-neutral-200 p-8">
                <div class="flex flex-col sm:flex-row gap-4 justify-between items-center">
                    <div class="text-sm text-neutral-600">
                        💡 <strong>Tip:</strong> Essential items are pre-selected. Uncheck optional items to reduce cost.
                    </div>
                    <div class="flex gap-3">
                        <button onclick="downloadGroceryList()" class="btn-secondary px-6 py-3">
                            📱 Download List
                        </button>
                        <button onclick="shareGroceryList()" class="btn-primary px-6 py-3">
                            📤 Share List
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Premium Demo Modal -->
    <div id="demo-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="card-premium max-w-4xl w-full p-8 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center space-lg">
                <h3 class="font-display text-heading-lg text-neutral-800">🎬 SwasthAI Premium Demo</h3>
                <button onclick="closeDemo()" class="text-neutral-400 hover:text-neutral-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="gradient-primary rounded-xl p-8 text-white text-center space-lg">
                <div class="w-24 h-24 glass-dark rounded-full flex items-center justify-center mx-auto space-md cursor-pointer hover:bg-white/30 transition-colors" onclick="playDemo()">
                    <span id="play-icon" class="text-4xl">▶️</span>
                </div>
                <h4 class="font-display text-xl font-semibold space-sm">Experience Premium AI Nutrition</h4>
                <p class="text-body opacity-90">Watch how our advanced AI creates personalized plans in seconds</p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6 space-lg">
                <div class="text-center p-6 rounded-xl bg-neutral-50">
                    <div class="text-4xl space-sm">⚡</div>
                    <div class="font-display font-semibold text-neutral-800">15-Second Setup</div>
                    <div class="text-body-sm text-neutral-600">Lightning-fast questionnaire</div>
                </div>
                <div class="text-center p-6 rounded-xl bg-neutral-50">
                    <div class="text-4xl space-sm">🎯</div>
                    <div class="font-display font-semibold text-neutral-800">AI Personalization</div>
                    <div class="text-body-sm text-neutral-600">Advanced preference matching</div>
                </div>
                <div class="text-center p-6 rounded-xl bg-neutral-50">
                    <div class="text-4xl space-sm">📱</div>
                    <div class="font-display font-semibold text-neutral-800">Premium Experience</div>
                    <div class="text-body-sm text-neutral-600">Gamified nutrition journey</div>
                </div>
            </div>
            
            <div class="text-center">
                <button onclick="startPlanning(); closeDemo();" class="btn-primary mr-4">
                    Start My Premium Journey
                </button>
                <button onclick="closeDemo()" class="btn-secondary">
                    Close Demo
                </button>
            </div>
        </div>
    </div>

    <script>
        // Enhanced Global State Management
        let currentStep = 1;
        let selectedActivity = '';
        let selectedRegion = '';
        let selectedGoal = '';
        let selectedPreferences = new Set();
        let selectedTastes = new Set();
        let selectedAllergies = new Set();
        let selectedHealthGoals = new Set();
        let userProfile = {};
        let currentStreak = 7;
        let userLevel = 12;

        // Premium Indian Food Database
        const indianFoodDatabase = {
            north: {
                breakfast: [
                    { name: 'Aloo Paratha with Curd', calories: 180, protein: '6g', carbs: '28g', fat: '5g', ingredients: ['potato', 'wheat flour', 'curd'], spiceLevel: 'mild' },
                    { name: 'Masala Oats', calories: 120, protein: '4g', carbs: '22g', fat: '2g', ingredients: ['oats', 'vegetables', 'spices'], spiceLevel: 'mild' },
                    { name: 'Paneer Sandwich', calories: 200, protein: '8g', carbs: '25g', fat: '7g', ingredients: ['paneer', 'bread', 'vegetables'], spiceLevel: 'mild' },
                    { name: 'Besan Chilla', calories: 150, protein: '7g', carbs: '18g', fat: '6g', ingredients: ['gram flour', 'vegetables', 'spices'], spiceLevel: 'medium' },
                    { name: 'Stuffed Roti with Dal', calories: 190, protein: '8g', carbs: '30g', fat: '4g', ingredients: ['wheat flour', 'lentils', 'vegetables'], spiceLevel: 'mild' }
                ],
                lunch: [
                    { name: 'Dal Tadka', calories: 120, protein: '8g', carbs: '18g', fat: '3g', ingredients: ['lentils', 'onion', 'tomato', 'spices'], spiceLevel: 'medium' },
                    { name: 'Rajma Chawal', calories: 280, protein: '12g', carbs: '45g', fat: '6g', ingredients: ['kidney beans', 'rice', 'onion', 'tomato'], spiceLevel: 'medium' },
                    { name: 'Chole Bhature', calories: 350, protein: '14g', carbs: '50g', fat: '12g', ingredients: ['chickpeas', 'flour', 'spices'], spiceLevel: 'spicy' },
                    { name: 'Palak Paneer with Roti', calories: 250, protein: '15g', carbs: '25g', fat: '10g', ingredients: ['spinach', 'paneer', 'wheat flour'], spiceLevel: 'mild' },
                    { name: 'Mixed Vegetable Curry', calories: 180, protein: '6g', carbs: '25g', fat: '7g', ingredients: ['mixed vegetables', 'onion', 'tomato'], spiceLevel: 'medium' }
                ],
                dinner: [
                    { name: 'Khichdi with Ghee', calories: 200, protein: '6g', carbs: '35g', fat: '5g', ingredients: ['rice', 'lentils', 'ghee'], spiceLevel: 'mild' },
                    { name: 'Aloo Gobi with Roti', calories: 220, protein: '7g', carbs: '35g', fat: '6g', ingredients: ['potato', 'cauliflower', 'wheat flour'], spiceLevel: 'medium' },
                    { name: 'Paneer Tikka with Salad', calories: 180, protein: '12g', carbs: '8g', fat: '12g', ingredients: ['paneer', 'vegetables', 'yogurt'], spiceLevel: 'spicy' },
                    { name: 'Dal Makhani with Rice', calories: 260, protein: '10g', carbs: '38g', fat: '8g', ingredients: ['black lentils', 'rice', 'cream'], spiceLevel: 'mild' },
                    { name: 'Vegetable Pulao', calories: 240, protein: '8g', carbs: '40g', fat: '6g', ingredients: ['rice', 'mixed vegetables', 'spices'], spiceLevel: 'mild' }
                ]
            },
            south: {
                breakfast: [
                    { name: 'Idli with Sambar', calories: 150, protein: '4g', carbs: '28g', fat: '2g', ingredients: ['rice', 'lentils', 'vegetables'], spiceLevel: 'mild' },
                    { name: 'Dosa with Coconut Chutney', calories: 180, protein: '5g', carbs: '32g', fat: '4g', ingredients: ['rice', 'lentils', 'coconut'], spiceLevel: 'mild' },
                    { name: 'Upma with Vegetables', calories: 140, protein: '4g', carbs: '25g', fat: '3g', ingredients: ['semolina', 'vegetables', 'spices'], spiceLevel: 'mild' },
                    { name: 'Rava Idli', calories: 120, protein: '3g', carbs: '22g', fat: '2g', ingredients: ['semolina', 'curd', 'spices'], spiceLevel: 'mild' },
                    { name: 'Pesarattu', calories: 160, protein: '8g', carbs: '24g', fat: '4g', ingredients: ['green gram', 'rice', 'ginger'], spiceLevel: 'medium' }
                ],
                lunch: [
                    { name: 'Sambar Rice', calories: 200, protein: '6g', carbs: '38g', fat: '3g', ingredients: ['rice', 'lentils', 'vegetables'], spiceLevel: 'medium' },
                    { name: 'Rasam with Rice', calories: 180, protein: '4g', carbs: '35g', fat: '2g', ingredients: ['rice', 'tomato', 'tamarind'], spiceLevel: 'spicy' },
                    { name: 'Bisi Bele Bath', calories: 250, protein: '8g', carbs: '45g', fat: '5g', ingredients: ['rice', 'lentils', 'vegetables'], spiceLevel: 'medium' },
                    { name: 'Vegetable Curry with Rice', calories: 220, protein: '7g', carbs: '40g', fat: '4g', ingredients: ['rice', 'mixed vegetables', 'coconut'], spiceLevel: 'medium' },
                    { name: 'Curd Rice with Pickle', calories: 160, protein: '5g', carbs: '28g', fat: '3g', ingredients: ['rice', 'curd', 'curry leaves'], spiceLevel: 'mild' }
                ],
                dinner: [
                    { name: 'Vegetable Sambar', calories: 120, protein: '5g', carbs: '20g', fat: '2g', ingredients: ['lentils', 'vegetables', 'tamarind'], spiceLevel: 'medium' },
                    { name: 'Coconut Rice', calories: 200, protein: '4g', carbs: '35g', fat: '6g', ingredients: ['rice', 'coconut', 'curry leaves'], spiceLevel: 'mild' },
                    { name: 'Vegetable Kootu', calories: 140, protein: '6g', carbs: '22g', fat: '4g', ingredients: ['vegetables', 'lentils', 'coconut'], spiceLevel: 'mild' },
                    { name: 'Lemon Rice', calories: 180, protein: '3g', carbs: '32g', fat: '4g', ingredients: ['rice', 'lemon', 'peanuts'], spiceLevel: 'mild' },
                    { name: 'Vegetable Poriyal', calories: 100, protein: '4g', carbs: '15g', fat: '3g', ingredients: ['vegetables', 'coconut', 'mustard seeds'], spiceLevel: 'mild' }
                ]
            },
            west: {
                breakfast: [
                    { name: 'Poha with Peanuts', calories: 160, protein: '4g', carbs: '28g', fat: '4g', ingredients: ['flattened rice', 'peanuts', 'onion'], spiceLevel: 'mild' },
                    { name: 'Dhokla', calories: 140, protein: '5g', carbs: '25g', fat: '3g', ingredients: ['gram flour', 'curd', 'spices'], spiceLevel: 'mild' },
                    { name: 'Thepla with Curd', calories: 180, protein: '6g', carbs: '30g', fat: '5g', ingredients: ['wheat flour', 'fenugreek', 'curd'], spiceLevel: 'mild' },
                    { name: 'Sabudana Khichdi', calories: 200, protein: '3g', carbs: '38g', fat: '5g', ingredients: ['tapioca pearls', 'peanuts', 'potato'], spiceLevel: 'mild' },
                    { name: 'Misal Pav', calories: 220, protein: '8g', carbs: '35g', fat: '6g', ingredients: ['sprouts', 'bread', 'onion'], spiceLevel: 'spicy' }
                ],
                lunch: [
                    { name: 'Dal Baati', calories: 280, protein: '10g', carbs: '45g', fat: '8g', ingredients: ['lentils', 'wheat flour', 'ghee'], spiceLevel: 'medium' },
                    { name: 'Gujarati Thali', calories: 320, protein: '12g', carbs: '50g', fat: '10g', ingredients: ['various vegetables', 'rice', 'roti'], spiceLevel: 'mild' },
                    { name: 'Bhel Puri', calories: 150, protein: '4g', carbs: '28g', fat: '4g', ingredients: ['puffed rice', 'vegetables', 'chutney'], spiceLevel: 'spicy' },
                    { name: 'Pav Bhaji', calories: 250, protein: '8g', carbs: '40g', fat: '7g', ingredients: ['mixed vegetables', 'bread', 'spices'], spiceLevel: 'medium' },
                    { name: 'Kadhi Chawal', calories: 240, protein: '7g', carbs: '38g', fat: '6g', ingredients: ['gram flour', 'curd', 'rice'], spiceLevel: 'mild' }
                ],
                dinner: [
                    { name: 'Khaman Dhokla', calories: 120, protein: '4g', carbs: '22g', fat: '2g', ingredients: ['gram flour', 'curd', 'spices'], spiceLevel: 'mild' },
                    { name: 'Vegetable Pulao', calories: 200, protein: '6g', carbs: '35g', fat: '5g', ingredients: ['rice', 'vegetables', 'spices'], spiceLevel: 'mild' },
                    { name: 'Gujarati Dal', calories: 140, protein: '7g', carbs: '22g', fat: '3g', ingredients: ['lentils', 'jaggery', 'spices'], spiceLevel: 'mild' },
                    { name: 'Stuffed Paratha', calories: 220, protein: '8g', carbs: '32g', fat: '7g', ingredients: ['wheat flour', 'vegetables', 'spices'], spiceLevel: 'medium' },
                    { name: 'Handvo', calories: 180, protein: '6g', carbs: '28g', fat: '5g', ingredients: ['mixed lentils', 'vegetables', 'rice'], spiceLevel: 'mild' }
                ]
            },
            east: {
                breakfast: [
                    { name: 'Luchi with Aloo Dum', calories: 200, protein: '5g', carbs: '32g', fat: '6g', ingredients: ['flour', 'potato', 'spices'], spiceLevel: 'medium' },
                    { name: 'Cholar Dal with Rice', calories: 180, protein: '7g', carbs: '30g', fat: '4g', ingredients: ['bengal gram', 'rice', 'coconut'], spiceLevel: 'mild' },
                    { name: 'Pitha', calories: 160, protein: '4g', carbs: '28g', fat: '4g', ingredients: ['rice flour', 'jaggery', 'coconut'], spiceLevel: 'mild' },
                    { name: 'Muri Ghonto', calories: 140, protein: '3g', carbs: '25g', fat: '3g', ingredients: ['puffed rice', 'vegetables', 'spices'], spiceLevel: 'mild' },
                    { name: 'Kheer', calories: 180, protein: '5g', carbs: '30g', fat: '5g', ingredients: ['rice', 'milk', 'sugar'], spiceLevel: 'mild' }
                ],
                lunch: [
                    { name: 'Fish Curry with Rice', calories: 250, protein: '18g', carbs: '30g', fat: '8g', ingredients: ['fish', 'rice', 'mustard oil'], spiceLevel: 'medium' },
                    { name: 'Aloo Posto', calories: 180, protein: '4g', carbs: '25g', fat: '7g', ingredients: ['potato', 'poppy seeds', 'mustard oil'], spiceLevel: 'mild' },
                    { name: 'Shukto', calories: 120, protein: '3g', carbs: '18g', fat: '4g', ingredients: ['mixed vegetables', 'milk', 'spices'], spiceLevel: 'mild' },
                    { name: 'Dal with Rice', calories: 200, protein: '8g', carbs: '35g', fat: '3g', ingredients: ['lentils', 'rice', 'turmeric'], spiceLevel: 'mild' },
                    { name: 'Vegetable Ghonto', calories: 160, protein: '5g', carbs: '22g', fat: '6g', ingredients: ['mixed vegetables', 'coconut', 'spices'], spiceLevel: 'medium' }
                ],
                dinner: [
                    { name: 'Khichuri', calories: 180, protein: '6g', carbs: '32g', fat: '3g', ingredients: ['rice', 'lentils', 'vegetables'], spiceLevel: 'mild' },
                    { name: 'Begun Bhaja', calories: 120, protein: '2g', carbs: '15g', fat: '6g', ingredients: ['eggplant', 'mustard oil', 'spices'], spiceLevel: 'mild' },
                    { name: 'Machher Jhol', calories: 200, protein: '15g', carbs: '12g', fat: '10g', ingredients: ['fish', 'potato', 'tomato'], spiceLevel: 'medium' },
                    { name: 'Aloo Bhate', calories: 160, protein: '3g', carbs: '28g', fat: '4g', ingredients: ['potato', 'rice', 'mustard oil'], spiceLevel: 'mild' },
                    { name: 'Payesh', calories: 140, protein: '4g', carbs: '25g', fat: '3g', ingredients: ['rice', 'milk', 'jaggery'], spiceLevel: 'mild' }
                ]
            }
        };

        // Enhanced Navigation Functions
        function navigateToHome() {
            // Show home sections
            document.getElementById('hero').style.display = 'block';
            document.getElementById('features').style.display = 'block';
            document.getElementById('gamification').style.display = 'block';
            
            // Hide other sections
            document.getElementById('planning-section').style.display = 'none';
            document.getElementById('results-section').style.display = 'none';
            
            // Scroll to hero
            document.getElementById('hero').scrollIntoView({ behavior: 'smooth' });
            
            showNotification('Welcome Home', 'Explore SwasthAI Premium features', 'info');
        }

        function navigateToFeatures() {
            // Show home sections
            document.getElementById('hero').style.display = 'block';
            document.getElementById('features').style.display = 'block';
            document.getElementById('gamification').style.display = 'block';
            
            // Hide other sections
            document.getElementById('planning-section').style.display = 'none';
            document.getElementById('results-section').style.display = 'none';
            
            // Scroll to features
            document.getElementById('features').scrollIntoView({ behavior: 'smooth' });
            
            showNotification('Premium Features', 'Discover advanced AI nutrition capabilities', 'info');
        }

        function navigateToChallenges() {
            // Show home sections
            document.getElementById('hero').style.display = 'block';
            document.getElementById('features').style.display = 'block';
            document.getElementById('gamification').style.display = 'block';
            
            // Hide other sections
            document.getElementById('planning-section').style.display = 'none';
            document.getElementById('results-section').style.display = 'none';
            
            // Scroll to gamification
            document.getElementById('gamification').scrollIntoView({ behavior: 'smooth' });
            
            showNotification('Join Challenges', 'Compete with thousands of users nationwide', 'info');
        }

        // Enhanced Utility Functions
        function showNotification(title, message, type = 'success') {
            const notification = document.getElementById('notification');
            const titleEl = document.getElementById('notification-title');
            const messageEl = document.getElementById('notification-message');
            const iconEl = document.getElementById('notification-icon');
            
            titleEl.textContent = title;
            messageEl.textContent = message;
            
            if (type === 'success') {
                iconEl.style.background = 'var(--success-500)';
                iconEl.innerHTML = '<span class="text-white font-bold text-sm">✓</span>';
                notification.style.borderLeftColor = 'var(--success-500)';
            } else if (type === 'error') {
                iconEl.style.background = 'var(--error-500)';
                iconEl.innerHTML = '<span class="text-white font-bold text-sm">✗</span>';
                notification.style.borderLeftColor = 'var(--error-500)';
            } else if (type === 'info') {
                iconEl.style.background = 'var(--primary-500)';
                iconEl.innerHTML = '<span class="text-white font-bold text-sm">i</span>';
                notification.style.borderLeftColor = 'var(--primary-500)';
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                hideNotification();
            }, 5000);
        }

        function hideNotification() {
            const notification = document.getElementById('notification');
            notification.classList.remove('show');
        }

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('translate-x-full');
        }

        // Enhanced Navigation Functions
        function startPlanning() {
            document.getElementById('hero').style.display = 'none';
            document.getElementById('features').style.display = 'none';
            document.getElementById('gamification').style.display = 'none';
            document.getElementById('planning-section').style.display = 'block';
            document.getElementById('results-section').style.display = 'none';
            
            // Reset to step 1
            currentStep = 1;
            showStep(1);
            
            showNotification('Welcome to Premium!', 'Let\'s create your personalized nutrition plan', 'info');
        }

        function openDemo() {
            document.getElementById('demo-modal').classList.remove('hidden');
        }

        function closeDemo() {
            document.getElementById('demo-modal').classList.add('hidden');
        }

        function playDemo() {
            const playIcon = document.getElementById('play-icon');
            playIcon.textContent = '⏸️';
            showNotification('Premium Demo', 'Experience advanced AI personalization features', 'info');
            
            setTimeout(() => {
                playIcon.textContent = '▶️';
                showNotification('Demo Complete', 'Ready to start your premium journey?', 'success');
            }, 4000);
        }

        // Enhanced Step Management
        function showStep(step) {
            // Hide all steps
            document.getElementById('step-basic').classList.add('hidden');
            document.getElementById('step-preferences').classList.add('hidden');
            document.getElementById('step-goals').classList.add('hidden');
            
            // Update step indicators
            for (let i = 1; i <= 3; i++) {
                const stepEl = document.getElementById(`step-${i}`);
                const progressEl = document.getElementById(`progress-${i}`);
                
                if (i < step) {
                    stepEl.className = 'w-10 h-10 rounded-full bg-success-500 text-white flex items-center justify-center font-semibold';
                    stepEl.innerHTML = '✓';
                    if (progressEl) progressEl.style.width = '100%';
                } else if (i === step) {
                    stepEl.className = 'w-10 h-10 rounded-full bg-primary-500 text-white flex items-center justify-center font-semibold';
                    stepEl.textContent = i;
                    if (progressEl) progressEl.style.width = '0%';
                } else {
                    stepEl.className = 'w-10 h-10 rounded-full bg-neutral-200 text-neutral-500 flex items-center justify-center font-semibold';
                    stepEl.textContent = i;
                    if (progressEl) progressEl.style.width = '0%';
                }
            }
            
            // Show current step
            if (step === 1) {
                document.getElementById('step-basic').classList.remove('hidden');
            } else if (step === 2) {
                document.getElementById('step-preferences').classList.remove('hidden');
            } else if (step === 3) {
                document.getElementById('step-goals').classList.remove('hidden');
            }
        }

        function nextStep() {
            if (currentStep === 1) {
                const age = document.getElementById('age').value;
                const gender = document.getElementById('gender').value;
                const height = document.getElementById('height').value;
                const weight = document.getElementById('weight').value;
                
                if (!age || !gender || !height || !weight || !selectedActivity) {
                    showNotification('Missing Information', 'Please fill all fields and select activity level', 'error');
                    return;
                }
                
                currentStep = 2;
                showStep(2);
                showNotification('Step Complete', 'Now let\'s set your food preferences', 'success');
            } else if (currentStep === 2) {
                if (!selectedRegion) {
                    showNotification('Missing Selection', 'Please select your regional preference', 'error');
                    return;
                }
                
                currentStep = 3;
                showStep(3);
                showNotification('Preferences Saved', 'Finally, let\'s set your health goals', 'success');
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
                showNotification('Previous Step', 'You can modify your previous selections', 'info');
            }
        }

        // Enhanced Selection Functions
        function selectActivity(activity) {
            document.querySelectorAll('#step-basic .card-interactive').forEach(card => {
                card.classList.remove('card-selected');
            });
            
            event.target.closest('.card-interactive').classList.add('card-selected');
            selectedActivity = activity;
            
            const activityNames = {
                'sedentary': 'Sedentary',
                'light': 'Light Active',
                'moderate': 'Moderate',
                'very-active': 'Very Active'
            };
            
            showNotification('Activity Selected', `${activityNames[activity]} lifestyle selected`, 'success');
        }

        function selectRegion(region) {
            document.querySelectorAll('#step-preferences .card-interactive').forEach(card => {
                card.classList.remove('card-selected');
            });
            
            event.target.closest('.card-interactive').classList.add('card-selected');
            selectedRegion = region;
            
            const regionNames = {
                'north': 'North India',
                'south': 'South India',
                'west': 'West India',
                'east': 'East India'
            };
            
            showNotification('Region Selected', `${regionNames[region]} cuisine preferences saved`, 'success');
        }

        function selectGoal(goal) {
            document.querySelectorAll('#step-goals .card-interactive').forEach(card => {
                card.classList.remove('card-selected');
            });
            
            event.target.closest('.card-interactive').classList.add('card-selected');
            selectedGoal = goal;
            
            const goalNames = {
                'weight-loss': 'Weight Loss',
                'muscle-gain': 'Muscle Gain',
                'maintain': 'Maintain Weight'
            };
            
            showNotification('Goal Set', `${goalNames[goal]} goal selected`, 'success');
        }

        // Enhanced Preference Functions
        function togglePreference(preference) {
            const tag = event.target;
            
            if (selectedPreferences.has(preference)) {
                selectedPreferences.delete(preference);
                tag.classList.remove('selected');
            } else {
                selectedPreferences.add(preference);
                tag.classList.add('selected');
            }
            
            showNotification('Preference Updated', `${preference} preference ${selectedPreferences.has(preference) ? 'added' : 'removed'}`, 'info');
        }

        function toggleTaste(taste) {
            const tag = event.target;
            
            if (selectedTastes.has(taste)) {
                selectedTastes.delete(taste);
                tag.classList.remove('selected');
            } else {
                selectedTastes.add(taste);
                tag.classList.add('selected');
            }
            
            showNotification('Taste Updated', `${taste} taste preference updated`, 'info');
        }

        function toggleAllergy(allergy) {
            const tag = event.target;
            
            if (selectedAllergies.has(allergy)) {
                selectedAllergies.delete(allergy);
                tag.classList.remove('selected');
            } else {
                selectedAllergies.add(allergy);
                tag.classList.add('selected');
            }
            
            showNotification('Allergy Updated', `${allergy} allergy ${selectedAllergies.has(allergy) ? 'added' : 'removed'}`, 'info');
        }

        function toggleHealthGoal(goal) {
            const tag = event.target;
            
            if (selectedHealthGoals.has(goal)) {
                selectedHealthGoals.delete(goal);
                tag.classList.remove('selected');
            } else {
                selectedHealthGoals.add(goal);
                tag.classList.add('selected');
            }
            
            showNotification('Health Goal Updated', `${goal} health goal updated`, 'info');
        }

        // Enhanced Plan Generation
        function generatePlan() {
            const age = document.getElementById('age').value;
            const gender = document.getElementById('gender').value;
            const height = document.getElementById('height').value;
            const weight = document.getElementById('weight').value;
            
            if (!age || !gender || !height || !weight || !selectedActivity || !selectedRegion || !selectedGoal) {
                showNotification('Missing Information', 'Please complete all steps before generating plan', 'error');
                return;
            }
            
            document.getElementById('generate-text').classList.add('hidden');
            document.getElementById('loading-text').classList.remove('hidden');
            
            userProfile = {
                age: parseInt(age),
                gender,
                height: parseInt(height),
                weight: parseFloat(weight),
                activity: selectedActivity,
                region: selectedRegion,
                goal: selectedGoal,
                preferences: Array.from(selectedPreferences),
                tastes: Array.from(selectedTastes),
                allergies: Array.from(selectedAllergies),
                healthGoals: Array.from(selectedHealthGoals)
            };
            
            setTimeout(() => {
                generateAdvancedDietPlan();
                showResults();
                
                document.getElementById('generate-text').classList.remove('hidden');
                document.getElementById('loading-text').classList.add('hidden');
                
                showNotification('Premium Plan Ready!', 'Your personalized nutrition plan has been generated', 'success');
            }, 4000);
        }

        function generateAdvancedDietPlan() {
            // Calculate BMI and display
            const bmi = (userProfile.weight / ((userProfile.height / 100) ** 2)).toFixed(1);
            document.getElementById('bmi-display').textContent = bmi;
            
            // Display goal and region
            const goalNames = {
                'weight-loss': 'Weight Loss',
                'muscle-gain': 'Muscle Gain',
                'maintain': 'Maintain Weight'
            };
            const regionNames = {
                'north': 'North India',
                'south': 'South India',
                'west': 'West India',
                'east': 'East India'
            };
            
            document.getElementById('target-display').textContent = goalNames[userProfile.goal];
            document.getElementById('region-display').textContent = regionNames[userProfile.region];
            
            // Get meals from database based on preferences and allergies
            const regionalMeals = indianFoodDatabase[userProfile.region] || indianFoodDatabase['north'];
            
            // Filter meals based on allergies and preferences
            const filteredMeals = {
                breakfast: filterMealsByPreferences(regionalMeals.breakfast),
                lunch: filterMealsByPreferences(regionalMeals.lunch),
                dinner: filterMealsByPreferences(regionalMeals.dinner)
            };
            
            // Populate meals
            populateMealSection('breakfast', filteredMeals.breakfast, 'var(--accent-600)');
            populateMealSection('lunch', filteredMeals.lunch, 'var(--success-600)');
            populateMealSection('dinner', filteredMeals.dinner, 'var(--primary-600)');
            
            // Calculate and display totals
            calculateNutritionTotals(filteredMeals);
        }

        function filterMealsByPreferences(meals) {
            return meals.filter(meal => {
                // Filter out meals with allergens
                for (let allergy of selectedAllergies) {
                    if (meal.ingredients.some(ingredient => 
                        ingredient.toLowerCase().includes(allergy.toLowerCase()) ||
                        (allergy === 'dairy' && (ingredient.includes('paneer') || ingredient.includes('curd') || ingredient.includes('milk'))) ||
                        (allergy === 'gluten' && (ingredient.includes('wheat') || ingredient.includes('flour')))
                    )) {
                        return false;
                    }
                }
                
                // Filter by dietary preferences
                if (selectedPreferences.has('vegan')) {
                    if (meal.ingredients.some(ingredient => 
                        ingredient.includes('paneer') || ingredient.includes('curd') || 
                        ingredient.includes('milk') || ingredient.includes('ghee')
                    )) {
                        return false;
                    }
                }
                
                if (selectedPreferences.has('vegetarian') || selectedPreferences.has('jain')) {
                    if (meal.ingredients.some(ingredient => 
                        ingredient.includes('fish') || ingredient.includes('chicken') || 
                        ingredient.includes('meat') || ingredient.includes('egg')
                    )) {
                        return false;
                    }
                }
                
                return true;
            }).slice(0, 3); // Limit to 3 items per meal
        }

        function populateMealSection(mealType, meals, color) {
            const container = document.getElementById(`${mealType}-items`);
            container.innerHTML = '';
            let totalCalories = 0;
            
            meals.forEach(meal => {
                container.innerHTML += `
                    <div class="flex justify-between items-center p-4 rounded-xl bg-gradient-to-r from-neutral-50 to-white border border-neutral-100 hover:shadow-md transition-all">
                        <div class="flex-1">
                            <div class="font-display font-semibold text-neutral-800 space-xs">${meal.name}</div>
                            <div class="flex items-center space-x-4 text-caption text-neutral-600">
                                <span>🥄 Protein: ${meal.protein}</span>
                                <span>🌾 Carbs: ${meal.carbs}</span>
                                <span>🥑 Fat: ${meal.fat}</span>
                            </div>
                            <div class="text-caption text-neutral-500 mt-1">
                                Spice Level: ${meal.spiceLevel} • ${meal.ingredients.slice(0, 3).join(', ')}
                            </div>
                        </div>
                        <div class="text-right ml-4">
                            <div class="font-display text-xl font-bold" style="color: ${color};">${meal.calories}</div>
                            <div class="text-caption text-neutral-500">calories</div>
                        </div>
                    </div>
                `;
                totalCalories += meal.calories;
            });
            
            document.getElementById(`${mealType}-calories`).textContent = `${totalCalories} cal`;
        }

        function calculateNutritionTotals(meals) {
            let totalCalories = 0;
            let totalProtein = 0;
            let totalCarbs = 0;
            let totalFats = 0;
            
            ['breakfast', 'lunch', 'dinner'].forEach(mealType => {
                meals[mealType].forEach(meal => {
                    totalCalories += meal.calories;
                    totalProtein += parseInt(meal.protein);
                    totalCarbs += parseInt(meal.carbs);
                    totalFats += parseInt(meal.fat);
                });
            });
            
            document.getElementById('total-calories').textContent = totalCalories.toLocaleString();
            document.getElementById('total-protein').textContent = `${totalProtein}g`;
            document.getElementById('total-carbs').textContent = `${totalCarbs}g`;
            document.getElementById('total-fats').textContent = `${totalFats}g`;
        }

        function showResults() {
            document.getElementById('planning-section').style.display = 'none';
            document.getElementById('results-section').style.display = 'block';
            document.getElementById('results-section').scrollIntoView({ behavior: 'smooth' });
            
            // Show user streak in header
            document.getElementById('user-streak').classList.remove('hidden');
        }

        // Enhanced Action Functions
        function downloadPlan() {
            showNotification('Download Started', 'Your premium nutrition plan is being prepared', 'info');
            
            // Simulate download process
            setTimeout(() => {
                const planData = {
                    user: userProfile,
                    generatedAt: new Date().toISOString(),
                    plan: 'Premium AI Nutrition Plan'
                };
                
                const dataStr = JSON.stringify(planData, null, 2);
                const dataBlob = new Blob([dataStr], {type: 'application/json'});
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'SwasthAI_Premium_Plan.json';
                link.click();
                
                showNotification('Download Complete', 'Premium plan saved to your device', 'success');
            }, 2000);
        }

        function sharePlan() {
            if (navigator.share) {
                navigator.share({
                    title: 'My SwasthAI Premium Plan',
                    text: 'Check out my personalized nutrition plan created by SwasthAI Premium AI!',
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(window.location.href);
                showNotification('Link Copied', 'Premium plan link copied to clipboard', 'success');
            }
        }

        function showGroceryList() {
            const groceryModal = document.getElementById('grocery-modal');
            groceryModal.classList.remove('hidden');
            
            // Generate personalized grocery list
            const groceryList = generatePersonalizedGroceryList();
            populateGroceryList(groceryList);
            
            showNotification('Smart Grocery List', 'AI-generated shopping list based on your meal plan', 'success');
        }

        function generatePersonalizedGroceryList() {
            const groceryList = {
                staples: [],
                vegetables: [],
                proteins: [],
                spices: [],
                dairy: [],
                oils: [],
                extras: []
            };

            // Base staples for all regions
            if (userProfile.region === 'south' || userProfile.region === 'east') {
                groceryList.staples.push(
                    { item: 'Basmati Rice', quantity: '2 kg', price: '₹180', essential: true },
                    { item: 'Brown Rice', quantity: '1 kg', price: '₹120', essential: false }
                );
            } else {
                groceryList.staples.push(
                    { item: 'Whole Wheat Flour', quantity: '2 kg', price: '₹80', essential: true },
                    { item: 'Basmati Rice', quantity: '1 kg', price: '₹90', essential: true }
                );
            }

            // Regional specific staples
            if (userProfile.region === 'north') {
                groceryList.staples.push(
                    { item: 'Rajma (Kidney Beans)', quantity: '500g', price: '₹120', essential: true },
                    { item: 'Chana (Chickpeas)', quantity: '500g', price: '₹80', essential: true }
                );
            } else if (userProfile.region === 'south') {
                groceryList.staples.push(
                    { item: 'Urad Dal', quantity: '500g', price: '₹140', essential: true },
                    { item: 'Semolina (Rava)', quantity: '500g', price: '₹60', essential: true }
                );
            } else if (userProfile.region === 'west') {
                groceryList.staples.push(
                    { item: 'Besan (Gram Flour)', quantity: '500g', price: '₹70', essential: true },
                    { item: 'Sabudana (Tapioca)', quantity: '250g', price: '₹50', essential: false }
                );
            } else if (userProfile.region === 'east') {
                groceryList.staples.push(
                    { item: 'Gobindobhog Rice', quantity: '1 kg', price: '₹150', essential: false },
                    { item: 'Posto (Poppy Seeds)', quantity: '100g', price: '₹80', essential: true }
                );
            }

            // Common lentils
            groceryList.staples.push(
                { item: 'Toor Dal', quantity: '500g', price: '₹100', essential: true },
                { item: 'Moong Dal', quantity: '500g', price: '₹120', essential: true },
                { item: 'Masoor Dal', quantity: '500g', price: '₹90', essential: false }
            );

            // Vegetables based on meal plan
            groceryList.vegetables.push(
                { item: 'Onions', quantity: '1 kg', price: '₹40', essential: true },
                { item: 'Tomatoes', quantity: '1 kg', price: '₹60', essential: true },
                { item: 'Potatoes', quantity: '1 kg', price: '₹30', essential: true },
                { item: 'Green Chilies', quantity: '100g', price: '₹20', essential: true },
                { item: 'Ginger-Garlic', quantity: '200g', price: '₹40', essential: true }
            );

            // Regional vegetables
            if (userProfile.region === 'north') {
                groceryList.vegetables.push(
                    { item: 'Cauliflower', quantity: '1 piece', price: '₹50', essential: false },
                    { item: 'Spinach', quantity: '500g', price: '₹30', essential: true },
                    { item: 'Okra (Bhindi)', quantity: '250g', price: '₹40', essential: false }
                );
            } else if (userProfile.region === 'south') {
                groceryList.vegetables.push(
                    { item: 'Curry Leaves', quantity: '50g', price: '₹10', essential: true },
                    { item: 'Drumsticks', quantity: '250g', price: '₹60', essential: false },
                    { item: 'Bottle Gourd', quantity: '1 piece', price: '₹40', essential: false }
                );
            } else if (userProfile.region === 'west') {
                groceryList.vegetables.push(
                    { item: 'Fenugreek Leaves', quantity: '200g', price: '₹25', essential: false },
                    { item: 'Cluster Beans', quantity: '250g', price: '₹50', essential: false },
                    { item: 'Bitter Gourd', quantity: '250g', price: '₹40', essential: false }
                );
            } else if (userProfile.region === 'east') {
                groceryList.vegetables.push(
                    { item: 'Eggplant', quantity: '500g', price: '₹35', essential: true },
                    { item: 'Pumpkin', quantity: '500g', price: '₹25', essential: false },
                    { item: 'Ridge Gourd', quantity: '250g', price: '₹30', essential: false }
                );
            }

            // Proteins based on dietary preferences
            if (!selectedPreferences.has('vegetarian') && !selectedPreferences.has('vegan') && !selectedPreferences.has('jain')) {
                if (userProfile.region === 'east') {
                    groceryList.proteins.push(
                        { item: 'Fresh Fish (Rohu)', quantity: '500g', price: '₹300', essential: false },
                        { item: 'Prawns', quantity: '250g', price: '₹400', essential: false }
                    );
                } else {
                    groceryList.proteins.push(
                        { item: 'Chicken (Skinless)', quantity: '500g', price: '₹200', essential: false },
                        { item: 'Eggs', quantity: '12 pieces', price: '₹60', essential: false }
                    );
                }
            }

            // Dairy products (if not vegan)
            if (!selectedPreferences.has('vegan')) {
                groceryList.dairy.push(
                    { item: 'Fresh Paneer', quantity: '250g', price: '₹100', essential: true },
                    { item: 'Greek Yogurt', quantity: '400g', price: '₹80', essential: true },
                    { item: 'Milk (Toned)', quantity: '1 liter', price: '₹60', essential: true },
                    { item: 'Ghee', quantity: '200ml', price: '₹120', essential: false }
                );
            } else {
                groceryList.dairy.push(
                    { item: 'Coconut Milk', quantity: '400ml', price: '₹80', essential: true },
                    { item: 'Almond Milk', quantity: '1 liter', price: '₹150', essential: false },
                    { item: 'Cashew Cream', quantity: '200g', price: '₹200', essential: false }
                );
            }

            // Cooking oils based on region
            if (userProfile.region === 'south') {
                groceryList.oils.push(
                    { item: 'Coconut Oil', quantity: '500ml', price: '₹180', essential: true },
                    { item: 'Sesame Oil', quantity: '200ml', price: '₹120', essential: false }
                );
            } else if (userProfile.region === 'east') {
                groceryList.oils.push(
                    { item: 'Mustard Oil', quantity: '500ml', price: '₹140', essential: true },
                    { item: 'Coconut Oil', quantity: '200ml', price: '₹80', essential: false }
                );
            } else {
                groceryList.oils.push(
                    { item: 'Sunflower Oil', quantity: '1 liter', price: '₹120', essential: true },
                    { item: 'Mustard Oil', quantity: '200ml', price: '₹60', essential: false }
                );
            }

            // Spices and seasonings
            groceryList.spices.push(
                { item: 'Turmeric Powder', quantity: '100g', price: '₹40', essential: true },
                { item: 'Cumin Seeds', quantity: '100g', price: '₹60', essential: true },
                { item: 'Coriander Seeds', quantity: '100g', price: '₹50', essential: true },
                { item: 'Red Chili Powder', quantity: '100g', price: '₹50', essential: true },
                { item: 'Garam Masala', quantity: '50g', price: '₹40', essential: true },
                { item: 'Asafoetida (Hing)', quantity: '25g', price: '₹30', essential: true }
            );

            // Regional spices
            if (userProfile.region === 'south') {
                groceryList.spices.push(
                    { item: 'Sambar Powder', quantity: '100g', price: '₹60', essential: true },
                    { item: 'Rasam Powder', quantity: '100g', price: '₹50', essential: false },
                    { item: 'Mustard Seeds', quantity: '100g', price: '₹40', essential: true }
                );
            } else if (userProfile.region === 'north') {
                groceryList.spices.push(
                    { item: 'Rajma Masala', quantity: '50g', price: '₹35', essential: false },
                    { item: 'Chole Masala', quantity: '50g', price: '₹35', essential: false },
                    { item: 'Kasoori Methi', quantity: '25g', price: '₹30', essential: false }
                );
            }

            // Extras based on goals and preferences
            if (userProfile.goal === 'muscle-gain' || selectedPreferences.has('high-protein')) {
                groceryList.extras.push(
                    { item: 'Almonds', quantity: '200g', price: '₹200', essential: true },
                    { item: 'Walnuts', quantity: '100g', price: '₹150', essential: false },
                    { item: 'Pumpkin Seeds', quantity: '100g', price: '₹120', essential: false },
                    { item: 'Quinoa', quantity: '500g', price: '₹300', essential: false }
                );
            }

            if (userProfile.goal === 'weight-loss') {
                groceryList.extras.push(
                    { item: 'Green Tea', quantity: '100g', price: '₹150', essential: false },
                    { item: 'Chia Seeds', quantity: '100g', price: '₹180', essential: false },
                    { item: 'Flax Seeds', quantity: '200g', price: '₹80', essential: false }
                );
            }

            // Common healthy extras
            groceryList.extras.push(
                { item: 'Jaggery (Gud)', quantity: '500g', price: '₹60', essential: false },
                { item: 'Rock Salt', quantity: '1 kg', price: '₹40', essential: false },
                { item: 'Lemon', quantity: '500g', price: '₹50', essential: true }
            );

            return groceryList;
        }

        function populateGroceryList(groceryList) {
            const container = document.getElementById('grocery-items');
            container.innerHTML = '';
            
            let totalPrice = 0;
            let essentialPrice = 0;
            
            Object.keys(groceryList).forEach(category => {
                if (groceryList[category].length === 0) return;
                
                const categoryNames = {
                    staples: '🌾 Staples & Grains',
                    vegetables: '🥬 Fresh Vegetables',
                    proteins: '🍗 Proteins',
                    dairy: '🥛 Dairy & Alternatives',
                    oils: '🫒 Cooking Oils',
                    spices: '🌶️ Spices & Seasonings',
                    extras: '✨ Healthy Extras'
                };
                
                const categoryHtml = `
                    <div class="space-lg">
                        <h5 class="font-display text-lg font-semibold text-neutral-800 space-md flex items-center">
                            ${categoryNames[category]}
                            <span class="ml-2 text-sm bg-primary-100 text-primary-700 px-2 py-1 rounded-full">${groceryList[category].length} items</span>
                        </h5>
                        <div class="space-y-3">
                            ${groceryList[category].map(item => {
                                const price = parseInt(item.price.replace('₹', ''));
                                totalPrice += price;
                                if (item.essential) essentialPrice += price;
                                
                                return `
                                    <div class="flex items-center justify-between p-4 rounded-xl border border-neutral-200 hover:border-primary-300 transition-colors ${item.essential ? 'bg-primary-50' : 'bg-white'}">
                                        <div class="flex items-center space-x-3">
                                            <input type="checkbox" ${item.essential ? 'checked' : ''} class="w-5 h-5 text-primary-600 rounded focus:ring-primary-500" onchange="updateGroceryTotal()">
                                            <div>
                                                <div class="font-semibold text-neutral-800 ${item.essential ? 'text-primary-800' : ''}">${item.item}</div>
                                                <div class="text-sm text-neutral-600">${item.quantity} ${item.essential ? '• Essential' : '• Optional'}</div>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="font-bold text-lg ${item.essential ? 'text-primary-700' : 'text-neutral-700'}">${item.price}</div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
                
                container.innerHTML += categoryHtml;
            });
            
            // Update totals
            document.getElementById('total-price').textContent = `₹${totalPrice}`;
            document.getElementById('essential-price').textContent = `₹${essentialPrice}`;
            document.getElementById('optional-price').textContent = `₹${totalPrice - essentialPrice}`;
            document.getElementById('selected-total').textContent = `₹${essentialPrice}`;
        }

        function updateGroceryTotal() {
            const checkboxes = document.querySelectorAll('#grocery-items input[type="checkbox"]');
            let selectedTotal = 0;
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const priceText = checkbox.closest('.flex').querySelector('.font-bold').textContent;
                    const price = parseInt(priceText.replace('₹', ''));
                    selectedTotal += price;
                }
            });
            
            document.getElementById('selected-total').textContent = `₹${selectedTotal}`;
        }

        function closeGroceryModal() {
            document.getElementById('grocery-modal').classList.add('hidden');
        }

        function downloadGroceryList() {
            const checkboxes = document.querySelectorAll('#grocery-items input[type="checkbox"]:checked');
            let groceryText = '🛒 SwasthAI Premium Grocery List\n';
            groceryText += `📅 Generated on: ${new Date().toLocaleDateString()}\n`;
            groceryText += `👤 For: ${userProfile.region} Indian cuisine\n`;
            groceryText += `🎯 Goal: ${userProfile.goal}\n\n`;
            
            let currentCategory = '';
            let itemCount = 0;
            
            checkboxes.forEach(checkbox => {
                const container = checkbox.closest('.space-lg');
                const categoryTitle = container.querySelector('h5').textContent.split('•')[0].trim();
                
                if (categoryTitle !== currentCategory) {
                    if (currentCategory !== '') groceryText += '\n';
                    groceryText += `${categoryTitle}\n`;
                    groceryText += '─'.repeat(30) + '\n';
                    currentCategory = categoryTitle;
                }
                
                const itemDiv = checkbox.closest('.flex');
                const itemName = itemDiv.querySelector('.font-semibold').textContent;
                const quantity = itemDiv.querySelector('.text-sm').textContent.split('•')[0].trim();
                const price = itemDiv.querySelector('.font-bold').textContent;
                
                itemCount++;
                groceryText += `${itemCount}. ${itemName} - ${quantity} - ${price}\n`;
            });
            
            const selectedTotal = document.getElementById('selected-total').textContent;
            groceryText += `\n💰 Total Selected: ${selectedTotal}\n`;
            groceryText += '\n💡 Tips:\n';
            groceryText += '• Buy organic when possible\n';
            groceryText += '• Check for seasonal discounts\n';
            groceryText += '• Store spices in airtight containers\n';
            groceryText += '• Buy fresh vegetables twice a week\n';
            
            const blob = new Blob([groceryText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'SwasthAI_Grocery_List.txt';
            link.click();
            
            showNotification('List Downloaded', 'Grocery list saved to your device', 'success');
        }

        function shareGroceryList() {
            const selectedTotal = document.getElementById('selected-total').textContent;
            const shareText = `🛒 My personalized grocery list from SwasthAI Premium!\n\n📍 ${userProfile.region} Indian cuisine\n🎯 Goal: ${userProfile.goal}\n💰 Total: ${selectedTotal}\n\nGet your AI-powered nutrition plan at SwasthAI!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My SwasthAI Grocery List',
                    text: shareText
                });
            } else {
                navigator.clipboard.writeText(shareText);
                showNotification('List Copied', 'Grocery list copied to clipboard', 'success');
            }
        }

        function showRecipes() {
            showNotification('Recipe Feature', 'Premium recipe videos and step-by-step guides coming soon!', 'info');
        }

        function generateNewPlan() {
            // Reset all selections
            selectedActivity = '';
            selectedRegion = '';
            selectedGoal = '';
            selectedPreferences.clear();
            selectedTastes.clear();
            selectedAllergies.clear();
            selectedHealthGoals.clear();
            
            // Reset form fields
            document.getElementById('age').value = '';
            document.getElementById('gender').value = '';
            document.getElementById('height').value = '';
            document.getElementById('weight').value = '';
            
            // Reset all selection cards
            document.querySelectorAll('.card-interactive').forEach(card => {
                card.classList.remove('card-selected');
            });
            
            document.querySelectorAll('.preference-tag').forEach(tag => {
                tag.classList.remove('selected');
            });
            
            // Reset to step 1
            currentStep = 1;
            showStep(1);
            
            document.getElementById('results-section').style.display = 'none';
            document.getElementById('planning-section').style.display = 'block';
            
            showNotification('New Plan Started', 'Ready to create another premium nutrition plan', 'info');
        }

        // Revolutionary AI Features Functions
        function openAIFoodScanner() {
            document.getElementById('food-scanner-modal').classList.remove('hidden');
            showNotification('AI Food Scanner', 'World\'s first Indian food recognition system', 'info');
        }

        function closeFoodScanner() {
            document.getElementById('food-scanner-modal').classList.add('hidden');
            // Reset scanner state
            document.getElementById('camera-placeholder').classList.remove('hidden');
            document.getElementById('scanning-animation').classList.add('hidden');
            document.getElementById('scan-results').classList.add('hidden');
        }

        function simulatePhotoCapture() {
            document.getElementById('camera-placeholder').classList.add('hidden');
            document.getElementById('scanning-animation').classList.remove('hidden');
            
            setTimeout(() => {
                document.getElementById('scanning-animation').classList.add('hidden');
                document.getElementById('scan-results').classList.remove('hidden');
                showNotification('Food Detected!', 'Aloo Paratha with Curd identified with 98.5% confidence', 'success');
            }, 3000);
        }

        function openVoiceNutritionist() {
            document.getElementById('voice-modal').classList.remove('hidden');
            showNotification('Voice Nutritionist', 'Revolutionary multilingual AI nutritionist', 'info');
        }

        function closeVoiceNutritionist() {
            document.getElementById('voice-modal').classList.add('hidden');
            // Reset voice state
            document.getElementById('voice-icon').textContent = '🎤';
            document.getElementById('voice-status').classList.remove('hidden');
            document.getElementById('voice-conversation').classList.add('hidden');
        }

        let isRecording = false;
        function toggleVoiceRecording() {
            const voiceIcon = document.getElementById('voice-icon');
            const voiceStatus = document.getElementById('voice-status');
            const conversation = document.getElementById('voice-conversation');
            
            if (!isRecording) {
                isRecording = true;
                voiceIcon.textContent = '🔴';
                voiceStatus.innerHTML = `
                    <div class="font-display text-xl text-red-600">Listening...</div>
                    <div class="text-neutral-600">Speak now in Hindi or English</div>
                `;
                
                // Simulate voice recognition after 3 seconds
                setTimeout(() => {
                    isRecording = false;
                    voiceIcon.textContent = '🎤';
                    voiceStatus.classList.add('hidden');
                    conversation.classList.remove('hidden');
                    
                    const conversationDiv = conversation.querySelector('.space-y-4');
                    conversationDiv.innerHTML = `
                        <div class="bg-blue-50 rounded-lg p-4">
                            <div class="font-semibold text-blue-800">You said:</div>
                            <div class="text-blue-700">"मुझे वजन कम करने के लिए क्या खाना चाहिए?"</div>
                        </div>
                        <div class="bg-green-50 rounded-lg p-4">
                            <div class="font-semibold text-green-800">AI Nutritionist:</div>
                            <div class="text-green-700">"वजन कम करने के लिए आप प्रोटीन युक्त भोजन लें जैसे दाल, पनीर, और हरी सब्जियां। दिन में 3-4 बार छोटे portions में खाएं। चीनी और तली हुई चीजों से बचें।"</div>
                        </div>
                        <div class="text-center">
                            <button onclick="toggleVoiceRecording()" class="btn-primary">Ask Another Question</button>
                        </div>
                    `;
                    
                    showNotification('Voice Response', 'AI answered in Hindi as requested', 'success');
                }, 3000);
            }
        }

        function openMoodBasedNutrition() {
            document.getElementById('mood-modal').classList.remove('hidden');
            showNotification('Mood-Based Nutrition', 'First-in-India emotional eating AI', 'info');
        }

        function closeMoodNutrition() {
            document.getElementById('mood-modal').classList.add('hidden');
            // Reset mood selections
            document.querySelectorAll('.mood-card').forEach(card => {
                card.classList.remove('border-yellow-300', 'border-red-300', 'border-blue-300', 'border-purple-300', 'border-green-300', 'border-gray-300');
            });
            document.getElementById('mood-recommendations').classList.add('hidden');
        }

        function selectMood(mood) {
            // Reset all mood cards
            document.querySelectorAll('.mood-card').forEach(card => {
                card.classList.remove('border-yellow-300', 'border-red-300', 'border-blue-300', 'border-purple-300', 'border-green-300', 'border-gray-300');
            });
            
            // Highlight selected mood
            event.target.closest('.mood-card').classList.add('border-yellow-300');
            
            // Show mood-based recommendations
            const recommendations = document.getElementById('mood-recommendations');
            recommendations.classList.remove('hidden');
            
            const moodRecommendations = {
                happy: {
                    foods: ['Dark chocolate', 'Berries', 'Nuts', 'Green tea'],
                    message: 'Maintain your positive energy with mood-boosting antioxidants!',
                    color: 'yellow'
                },
                stressed: {
                    foods: ['Ashwagandha tea', 'Almonds', 'Spinach', 'Chamomile'],
                    message: 'Combat stress with calming, magnesium-rich foods',
                    color: 'red'
                },
                tired: {
                    foods: ['Iron-rich spinach', 'Quinoa', 'Bananas', 'Green smoothie'],
                    message: 'Boost energy naturally with iron and B-vitamins',
                    color: 'blue'
                },
                anxious: {
                    foods: ['Turmeric milk', 'Walnuts', 'Yogurt', 'Herbal tea'],
                    message: 'Calm anxiety with omega-3s and probiotics',
                    color: 'purple'
                },
                energetic: {
                    foods: ['Protein smoothie', 'Oats', 'Fresh fruits', 'Coconut water'],
                    message: 'Channel your energy with sustained-release carbs',
                    color: 'green'
                },
                sad: {
                    foods: ['Comfort dal', 'Warm milk', 'Dates', 'Saffron'],
                    message: 'Gentle comfort foods to lift your spirits',
                    color: 'gray'
                }
            };
            
            const rec = moodRecommendations[mood];
            recommendations.innerHTML = `
                <div class="bg-gradient-to-r from-${rec.color}-50 to-${rec.color}-100 rounded-xl p-6 border border-${rec.color}-200">
                    <h5 class="font-display text-lg font-semibold text-${rec.color}-800 space-md">Recommended for your mood:</h5>
                    <p class="text-${rec.color}-700 space-md">${rec.message}</p>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        ${rec.foods.map(food => `
                            <div class="bg-white rounded-lg p-4 text-center shadow-sm">
                                <div class="font-semibold text-neutral-800">${food}</div>
                            </div>
                        `).join('')}
                    </div>
                    <button class="btn-primary mt-4">Add to Today's Plan</button>
                </div>
            `;
            
            showNotification('Mood Analysis', `Personalized recommendations for ${mood} mood`, 'success');
        }

        function openARMealPlanner() {
            document.getElementById('ar-modal').classList.remove('hidden');
            showNotification('AR Meal Planner', 'World\'s first AR nutrition visualization', 'info');
        }

        function closeARPlanner() {
            document.getElementById('ar-modal').classList.add('hidden');
        }

        function startARExperience() {
            showNotification('AR Starting', 'Point your camera at your plate for portion guidance', 'info');
            
            setTimeout(() => {
                showNotification('AR Active', 'Perfect! Portion guides are now overlaid on your food', 'success');
            }, 2000);
        }

        function openSocialChallenges() {
            document.getElementById('social-modal').classList.remove('hidden');
            showNotification('Social Challenges', 'Join thousands in gamified nutrition challenges', 'info');
        }

        function closeSocialChallenges() {
            document.getElementById('social-modal').classList.add('hidden');
        }

        function openPredictiveHealth() {
            document.getElementById('predictive-modal').classList.remove('hidden');
            showNotification('Predictive Health', 'Advanced AI analytics for future health insights', 'info');
        }

        function closePredictiveHealth() {
            document.getElementById('predictive-modal').classList.add('hidden');
        }

        // Feature Card Functions
        function showRecipeDatabase() {
            // Add loading state to the clicked card
            const clickedCard = event.target.closest('.card-interactive');
            const originalContent = clickedCard.innerHTML;
            
            clickedCard.style.opacity = '0.7';
            clickedCard.style.pointerEvents = 'none';
            
            showNotification('Recipe Database', 'Exploring 10,000+ authentic Indian recipes with nutritional data', 'info');
            
            setTimeout(() => {
                const recipes = [
                    'Punjabi Rajma with detailed macros',
                    'South Indian Sambar with regional variations',
                    'Gujarati Dhokla with step-by-step guide',
                    'Bengali Fish Curry with cooking tips'
                ];
                
                // Reset card state
                clickedCard.style.opacity = '1';
                clickedCard.style.pointerEvents = 'auto';
                
                showNotification('Recipes Loaded', `Found ${recipes.length} matching recipes for your preferences`, 'success');
            }, 2000);
        }

        function showAIEngine() {
            showNotification('AI Engine Demo', 'Demonstrating advanced machine learning capabilities', 'info');
            
            setTimeout(() => {
                showNotification('AI Analysis Complete', 'Personalized recommendations generated based on 47 data points', 'success');
            }, 3000);
        }

        function showPersonalization() {
            showNotification('Personalization Engine', 'Analyzing your unique dietary profile and preferences', 'info');
            
            setTimeout(() => {
                const personalizations = [
                    'Regional cuisine preferences detected',
                    'Allergy restrictions applied',
                    'Taste profile optimized',
                    'Health goals integrated'
                ];
                
                showNotification('Profile Optimized', `${personalizations.length} personalization factors applied`, 'success');
            }, 2500);
        }

        function showSmartIntegration() {
            showNotification('Smart Integration', 'Connecting with health apps and smart devices', 'info');
            
            setTimeout(() => {
                const integrations = [
                    'Google Fit connected',
                    'Apple Health synced',
                    'Smart scale integrated',
                    'Grocery delivery linked'
                ];
                
                showNotification('Integration Complete', `${integrations.length} services connected successfully`, 'success');
            }, 2000);
        }

        function showScienceBacked() {
            showNotification('Scientific Research', 'Displaying peer-reviewed nutrition studies and validations', 'info');
            
            setTimeout(() => {
                const research = [
                    '127 peer-reviewed studies referenced',
                    'AIIMS nutrition board approved',
                    'Clinical trials with 5,000+ participants',
                    'Continuous medical advisory updates'
                ];
                
                showNotification('Research Validated', `Based on ${research.length} scientific foundations`, 'success');
            }, 2500);
        }

        // Challenge Functions
        function showStreakDetails() {
            showNotification('Streak Analytics', 'Loading your daily streak performance and insights', 'info');
            
            setTimeout(() => {
                const streakData = {
                    current: 7,
                    longest: 23,
                    weeklyAverage: 5.2,
                    monthlyGoal: 25
                };
                
                showNotification('Streak Loaded', `Current: ${streakData.current} days • Personal best: ${streakData.longest} days`, 'success');
            }, 1500);
        }

        function showWeeklyChallenges() {
            showNotification('Weekly Challenges', 'Loading active challenges and your progress', 'info');
            
            setTimeout(() => {
                const challenges = [
                    'Protein Power Week (5/7 days)',
                    'Hydration Hero (8/10 glasses daily)',
                    'Veggie Victory (3/5 servings)',
                    'Mindful Eating (meditation before meals)'
                ];
                
                showNotification('Challenges Active', `${challenges.length} challenges available to join`, 'success');
            }, 1800);
        }

        function showAchievements() {
            showNotification('Achievement System', 'Loading your badges and milestone progress', 'info');
            
            setTimeout(() => {
                const achievements = {
                    earned: 12,
                    available: 47,
                    nextBadge: 'Veggie Master',
                    progress: '3/7 days'
                };
                
                showNotification('Badges Loaded', `${achievements.earned} earned • Next: ${achievements.nextBadge} (${achievements.progress})`, 'success');
            }, 2000);
        }

        // Footer and Contact Functions
        function openContactModal() {
            document.getElementById('contact-modal').classList.remove('hidden');
            showNotification('Contact Support', 'Get help from our premium support team', 'info');
        }

        function closeContactModal() {
            document.getElementById('contact-modal').classList.add('hidden');
        }

        function submitContactForm(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            
            // Show loading state
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = 'Sending... ⏳';
            submitBtn.disabled = true;
            
            // Simulate form submission
            setTimeout(() => {
                showNotification('Message Sent!', 'We\'ll respond within 2 hours during business hours', 'success');
                form.reset();
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                closeContactModal();
            }, 2000);
        }

        function subscribeNewsletter(event) {
            event.preventDefault();
            
            const form = event.target;
            const email = form.querySelector('input[type="email"]').value;
            const submitBtn = form.querySelector('button[type="submit"]');
            
            // Show loading state
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = 'Subscribing... ⏳';
            submitBtn.disabled = true;
            
            setTimeout(() => {
                showNotification('Subscribed Successfully!', `Welcome to our premium newsletter, ${email.split('@')[0]}!`, 'success');
                form.reset();
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            }, 1500);
        }

        function downloadApp(platform) {
            const platforms = {
                android: {
                    name: 'Google Play Store',
                    url: 'https://play.google.com/store/apps/details?id=com.swasthai.premium'
                },
                ios: {
                    name: 'Apple App Store', 
                    url: 'https://apps.apple.com/app/swasthai-premium/id123456789'
                },
                web: {
                    name: 'Web Application',
                    url: 'https://app.swasthai.com'
                }
            };
            
            const platformInfo = platforms[platform];
            showNotification(`Opening ${platformInfo.name}`, 'Redirecting to download SwasthAI Premium app', 'info');
            
            // In a real app, this would open the actual store
            setTimeout(() => {
                showNotification('Download Started', `SwasthAI Premium app download initiated from ${platformInfo.name}`, 'success');
            }, 1000);
        }

        function openSocialMedia(platform) {
            const socialLinks = {
                instagram: 'https://instagram.com/swasthai_official',
                youtube: 'https://youtube.com/@SwasthAI',
                twitter: 'https://twitter.com/SwasthAI_India',
                linkedin: 'https://linkedin.com/company/swasthai',
                telegram: 'https://t.me/SwasthAI_Community'
            };
            
            const platformNames = {
                instagram: 'Instagram',
                youtube: 'YouTube',
                twitter: 'Twitter',
                linkedin: 'LinkedIn',
                telegram: 'Telegram'
            };
            
            showNotification(`Opening ${platformNames[platform]}`, 'Follow us for daily nutrition tips and updates', 'info');
            
            // In a real app, this would open the actual social media page
            setTimeout(() => {
                showNotification('Social Media Opened', `Visit our ${platformNames[platform]} for exclusive content`, 'success');
            }, 500);
        }

        // Modal Functions for Footer Links
        function openPricingModal() {
            showNotification('Pricing Plans', 'Loading premium subscription options and pricing', 'info');
            
            setTimeout(() => {
                const pricingInfo = `
                    🌟 PREMIUM PLANS:
                    
                    📱 Basic Plan - ₹299/month
                    • Personalized meal plans
                    • 10,000+ Indian recipes
                    • Basic AI recommendations
                    
                    🚀 Pro Plan - ₹499/month  
                    • Everything in Basic
                    • AI Food Scanner
                    • Voice Nutritionist
                    • Advanced analytics
                    
                    👑 Premium Plan - ₹799/month
                    • Everything in Pro
                    • AR Meal Planner
                    • Predictive Health
                    • 1-on-1 nutritionist calls
                    
                    💎 Family Plan - ₹1299/month
                    • Up to 6 family members
                    • All premium features
                    • Family challenges
                    • Bulk grocery planning
                `;
                
                showNotification('Pricing Loaded', 'Choose the perfect plan for your nutrition journey', 'success');
            }, 1500);
        }

        function openAboutModal() {
            showNotification('About SwasthAI', 'Loading company information and mission', 'info');
            
            setTimeout(() => {
                showNotification('About Us', 'Founded in 2023, SwasthAI is revolutionizing nutrition with AI technology', 'success');
            }, 1000);
        }

        function openCareersModal() {
            showNotification('Career Opportunities', 'Loading open positions at SwasthAI', 'info');
            
            setTimeout(() => {
                const careers = [
                    'Senior AI/ML Engineer - Nutrition AI',
                    'Full Stack Developer - React/Node.js',
                    'Mobile App Developer - React Native',
                    'Nutritionist - Content & Research',
                    'Product Manager - Health Tech',
                    'UI/UX Designer - Mobile First'
                ];
                
                showNotification('Careers Available', `${careers.length} exciting positions open. Join our mission!`, 'success');
            }, 1200);
        }

        function openHelpModal() {
            showNotification('Help Center', 'Loading comprehensive help documentation', 'info');
            
            setTimeout(() => {
                showNotification('Help Available', 'Browse FAQs, tutorials, and get instant AI support', 'success');
            }, 800);
        }

        function openFAQModal() {
            showNotification('Frequently Asked Questions', 'Loading most common questions and answers', 'info');
            
            setTimeout(() => {
                const faqs = [
                    'How accurate is the AI nutrition analysis?',
                    'Can I use SwasthAI for medical conditions?',
                    'How does the food scanner work?',
                    'Is my health data secure and private?',
                    'Can I cancel my subscription anytime?'
                ];
                
                showNotification('FAQs Loaded', `${faqs.length} common questions answered with detailed explanations`, 'success');
            }, 1000);
        }

        function openBlogModal() {
            showNotification('Nutrition Blog', 'Loading latest articles and research insights', 'info');
            
            setTimeout(() => {
                const articles = [
                    'The Science Behind Indian Superfoods',
                    'AI vs Traditional Nutrition Planning',
                    'Regional Cuisine and Health Benefits',
                    'Meal Timing for Optimal Metabolism',
                    'Plant-Based Protein Sources in India'
                ];
                
                showNotification('Blog Loaded', `${articles.length} new articles on nutrition science and healthy living`, 'success');
            }, 1200);
        }

        function openRecipesModal() {
            showNotification('Recipe Database', 'Accessing 10,000+ authentic Indian recipes', 'info');
            
            setTimeout(() => {
                showNotification('Recipes Available', 'Browse by region, dietary preference, or health goal', 'success');
            }, 1000);
        }

        function openAPIModal() {
            showNotification('Developer API', 'Loading API documentation for developers', 'info');
            
            setTimeout(() => {
                showNotification('API Documentation', 'Integrate SwasthAI nutrition intelligence into your apps', 'success');
            }, 1000);
        }

        function openCommunityModal() {
            showNotification('SwasthAI Community', 'Connecting to our vibrant user community', 'info');
            
            setTimeout(() => {
                showNotification('Community Active', '50K+ members sharing recipes, tips, and motivation', 'success');
            }, 1000);
        }

        function openPrivacyModal() {
            showNotification('Privacy Policy', 'Loading comprehensive privacy and data protection policy', 'info');
            
            setTimeout(() => {
                showNotification('Privacy Protected', 'Your health data is encrypted and never shared without consent', 'success');
            }, 1000);
        }

        function openTermsModal() {
            showNotification('Terms of Service', 'Loading terms and conditions for SwasthAI Premium', 'info');
            
            setTimeout(() => {
                showNotification('Terms Available', 'Transparent terms designed to protect both users and SwasthAI', 'success');
            }, 1000);
        }

        function openCookieModal() {
            showNotification('Cookie Policy', 'Loading information about cookies and tracking', 'info');
            
            setTimeout(() => {
                showNotification('Cookie Policy', 'We use minimal cookies to enhance your experience', 'success');
            }, 800);
        }

        function openSecurityModal() {
            showNotification('Security Information', 'Loading security measures and certifications', 'info');
            
            setTimeout(() => {
                showNotification('Security Certified', 'ISO 27001 certified with bank-level encryption', 'success');
            }, 1000);
        }

        // Initialize Premium App
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial display states
            document.getElementById('hero').style.display = 'block';
            document.getElementById('features').style.display = 'block';
            document.getElementById('gamification').style.display = 'block';
            document.getElementById('planning-section').style.display = 'none';
            document.getElementById('results-section').style.display = 'none';
            
            // Hide notification initially
            hideNotification();
            
            // Initialize step 1
            showStep(1);
            
            // Add performance optimizations
            document.querySelectorAll('.card-premium, .btn-primary, .btn-secondary').forEach(el => {
                el.classList.add('gpu-accelerated');
            });
            
            // Show welcome message
            setTimeout(() => {
                showNotification('Welcome to SwasthAI Premium', 'Experience the future of personalized nutrition', 'info');
            }, 1000);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9700a1ffb3be8e90',t:'MTc1NTM0NDE3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
